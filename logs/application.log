2026-01-28 08:20:15.020 [main] INFO  c.s.ShopjoyEcommerceSystemApplication - Starting ShopjoyEcommerceSystemApplication using Java 25.0.1 with PID 27636 (C:\Users\EugeneDokyeAnokye\IdeaProjects\spring-ecommerce-system\target\classes started by EugeneDokyeAnokye in C:\Users\EugeneDokyeAnokye\IdeaProjects\spring-ecommerce-system)
2026-01-28 08:20:15.034 [main] DEBUG c.s.ShopjoyEcommerceSystemApplication - Running with Spring Boot v4.0.1, Spring v7.0.2
2026-01-28 08:20:15.036 [main] INFO  c.s.ShopjoyEcommerceSystemApplication - The following 1 profile is active: "dev"
2026-01-28 08:20:16.213 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 9.0.1.Final
2026-01-28 08:20:24.047 [main] INFO  o.s.boot.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-01-28 08:20:24.090 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2026-01-28 08:20:24.096 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-01-28 08:20:24.097 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/11.0.15]
2026-01-28 08:20:24.589 [main] INFO  o.s.b.w.c.s.WebApplicationContextInitializer - Root WebApplicationContext: initialization completed in 9361 ms
2026-01-28 08:20:25.902 [main] DEBUG com.zaxxer.hikari.util.UtilityElf - Class org.postgresql.Driver found in Thread context class loader jdk.internal.loader.ClassLoaders$AppClassLoader@14dad5dc
2026-01-28 08:20:25.909 [main] DEBUG com.zaxxer.hikari.HikariConfig - ShopJoyHikariCP - configuration:
2026-01-28 08:20:25.915 [main] DEBUG com.zaxxer.hikari.HikariConfig - allowPoolSuspension.............false
2026-01-28 08:20:25.916 [main] DEBUG com.zaxxer.hikari.HikariConfig - autoCommit......................true
2026-01-28 08:20:25.916 [main] DEBUG com.zaxxer.hikari.HikariConfig - catalog.........................none
2026-01-28 08:20:25.917 [main] DEBUG com.zaxxer.hikari.HikariConfig - connectionInitSql...............none
2026-01-28 08:20:25.917 [main] DEBUG com.zaxxer.hikari.HikariConfig - connectionTestQuery............."SELECT 1"
2026-01-28 08:20:25.921 [main] DEBUG com.zaxxer.hikari.HikariConfig - connectionTimeout...............20000
2026-01-28 08:20:25.922 [main] DEBUG com.zaxxer.hikari.HikariConfig - credentials.....................com.zaxxer.hikari.util.Credentials@3ac406d4
2026-01-28 08:20:25.923 [main] DEBUG com.zaxxer.hikari.HikariConfig - credentialsProvider.............none
2026-01-28 08:20:25.923 [main] DEBUG com.zaxxer.hikari.HikariConfig - credentialsProviderClassName....none
2026-01-28 08:20:25.925 [main] DEBUG com.zaxxer.hikari.HikariConfig - dataSource......................none
2026-01-28 08:20:25.926 [main] DEBUG com.zaxxer.hikari.HikariConfig - dataSourceClassName.............none
2026-01-28 08:20:25.926 [main] DEBUG com.zaxxer.hikari.HikariConfig - dataSourceJNDI..................none
2026-01-28 08:20:25.927 [main] DEBUG com.zaxxer.hikari.HikariConfig - dataSourceProperties............{password=<masked>, prepStmtCacheSqlLimit=2048, cachePrepStmts=true, prepStmtCacheSize=250}
2026-01-28 08:20:25.928 [main] DEBUG com.zaxxer.hikari.HikariConfig - driverClassName................."org.postgresql.Driver"
2026-01-28 08:20:25.928 [main] DEBUG com.zaxxer.hikari.HikariConfig - exceptionOverride...............none
2026-01-28 08:20:25.929 [main] DEBUG com.zaxxer.hikari.HikariConfig - exceptionOverrideClassName......none
2026-01-28 08:20:25.929 [main] DEBUG com.zaxxer.hikari.HikariConfig - healthCheckProperties...........{}
2026-01-28 08:20:25.929 [main] DEBUG com.zaxxer.hikari.HikariConfig - healthCheckRegistry.............none
2026-01-28 08:20:25.929 [main] DEBUG com.zaxxer.hikari.HikariConfig - idleTimeout.....................600000
2026-01-28 08:20:25.929 [main] DEBUG com.zaxxer.hikari.HikariConfig - initializationFailTimeout.......1
2026-01-28 08:20:25.930 [main] DEBUG com.zaxxer.hikari.HikariConfig - isolateInternalQueries..........false
2026-01-28 08:20:25.931 [main] DEBUG com.zaxxer.hikari.HikariConfig - jdbcUrl.........................jdbc:postgresql://localhost:5432/shopjoy_db
2026-01-28 08:20:25.932 [main] DEBUG com.zaxxer.hikari.HikariConfig - keepaliveTime...................120000
2026-01-28 08:20:25.932 [main] DEBUG com.zaxxer.hikari.HikariConfig - leakDetectionThreshold..........0
2026-01-28 08:20:25.932 [main] DEBUG com.zaxxer.hikari.HikariConfig - maxLifetime.....................1800000
2026-01-28 08:20:25.933 [main] DEBUG com.zaxxer.hikari.HikariConfig - maximumPoolSize.................5
2026-01-28 08:20:25.933 [main] DEBUG com.zaxxer.hikari.HikariConfig - metricRegistry..................none
2026-01-28 08:20:25.934 [main] DEBUG com.zaxxer.hikari.HikariConfig - metricsTrackerFactory...........none
2026-01-28 08:20:25.936 [main] DEBUG com.zaxxer.hikari.HikariConfig - minimumIdle.....................2
2026-01-28 08:20:25.936 [main] DEBUG com.zaxxer.hikari.HikariConfig - password........................<masked>
2026-01-28 08:20:25.936 [main] DEBUG com.zaxxer.hikari.HikariConfig - poolName........................"ShopJoyHikariCP"
2026-01-28 08:20:25.937 [main] DEBUG com.zaxxer.hikari.HikariConfig - readOnly........................false
2026-01-28 08:20:25.938 [main] DEBUG com.zaxxer.hikari.HikariConfig - registerMbeans..................false
2026-01-28 08:20:25.938 [main] DEBUG com.zaxxer.hikari.HikariConfig - scheduledExecutor...............none
2026-01-28 08:20:25.938 [main] DEBUG com.zaxxer.hikari.HikariConfig - schema..........................none
2026-01-28 08:20:25.938 [main] DEBUG com.zaxxer.hikari.HikariConfig - threadFactory...................internal
2026-01-28 08:20:25.938 [main] DEBUG com.zaxxer.hikari.HikariConfig - transactionIsolation............default
2026-01-28 08:20:25.939 [main] DEBUG com.zaxxer.hikari.HikariConfig - username........................"postgres"
2026-01-28 08:20:25.940 [main] DEBUG com.zaxxer.hikari.HikariConfig - validationTimeout...............5000
2026-01-28 08:20:25.950 [main] INFO  com.zaxxer.hikari.HikariDataSource - ShopJoyHikariCP - Starting...
2026-01-28 08:20:25.985 [main] DEBUG com.zaxxer.hikari.pool.PoolBase - ShopJoyHikariCP - Attempting to create/setup new connection (a799e248-2a8f-4c4a-99a1-1cd4378cb02b)
2026-01-28 08:20:26.515 [main] DEBUG com.zaxxer.hikari.pool.PoolBase - ShopJoyHikariCP - Established new connection (a799e248-2a8f-4c4a-99a1-1cd4378cb02b)
2026-01-28 08:20:26.517 [main] INFO  com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Added connection org.postgresql.jdbc.PgConnection@3e73f5e7
2026-01-28 08:20:26.520 [main] INFO  com.zaxxer.hikari.HikariDataSource - ShopJoyHikariCP - Start completed.
2026-01-28 08:20:26.621 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=1/5, idle=1/2, active=0, waiting=0)
2026-01-28 08:20:26.622 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=1/5, idle=1/2, active=0, waiting=0)
2026-01-28 08:20:26.624 [ShopJoyHikariCP:connection-adder] DEBUG com.zaxxer.hikari.pool.PoolBase - ShopJoyHikariCP - Attempting to create/setup new connection (03d5e617-cd53-4327-8dea-6f5d5f9e8f0b)
2026-01-28 08:20:26.890 [ShopJoyHikariCP:connection-adder] DEBUG com.zaxxer.hikari.pool.PoolBase - ShopJoyHikariCP - Established new connection (03d5e617-cd53-4327-8dea-6f5d5f9e8f0b)
2026-01-28 08:20:26.891 [ShopJoyHikariCP:connection-adder] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Added connection org.postgresql.jdbc.PgConnection@5eb1c6b
2026-01-28 08:20:26.924 [ShopJoyHikariCP:connection-adder] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After adding stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:20:30.560 [main] INFO  o.s.g.e.DefaultSchemaResourceGraphQlSourceBuilder - Loaded 1 resource(s) in the GraphQL schema.
2026-01-28 08:20:31.145 [main] INFO  o.s.b.g.a.GraphQlAutoConfiguration - GraphQL schema inspection:
	Unmapped fields: {CartItem=[addedAt], Inventory=[reservedQuantity]}
	Unmapped registrations: {}
	Unmapped arguments: {}
	Field nullness errors: {}
	Argument nullness errors: {}
	Skipped types: []
2026-01-28 08:20:31.218 [main] INFO  o.s.b.g.a.s.GraphQlWebMvcAutoConfiguration - GraphQL endpoint HTTP POST /graphql
2026-01-28 08:20:34.812 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2026-01-28 08:20:35.079 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2026-01-28 08:20:35.145 [main] INFO  o.s.boot.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2026-01-28 08:20:35.182 [main] INFO  c.s.ShopjoyEcommerceSystemApplication - Started ShopjoyEcommerceSystemApplication in 22.366 seconds (process running for 24.281)
2026-01-28 08:20:35.429 [main] WARN  o.s.c.events.SpringDocAppInitializer - SpringDoc /api-docs endpoint is enabled by default. To disable it in production, set the property 'springdoc.api-docs.enabled=false'
2026-01-28 08:20:47.953 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-28 08:20:47.954 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-01-28 08:20:47.957 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2026-01-28 08:20:48.115 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: AnalyticsController.getUserAnalytics with arguments: [3]
2026-01-28 08:20:48.116 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:20:48.116] ENTERING: AnalyticsServiceImpl.getUserAnalytics with arguments: [3]
2026-01-28 08:20:48.125 [http-nio-8080-exec-5] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:20:48.126 [http-nio-8080-exec-5] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT COUNT(*) FROM orders WHERE user_id = ?]
2026-01-28 08:20:48.132 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2026-01-28 08:20:48.152 [http-nio-8080-exec-5] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:20:48.213 [http-nio-8080-exec-5] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:20:48.214 [http-nio-8080-exec-5] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT SUM(total_amount) FROM orders WHERE user_id = ? AND status NOT IN ('cancelled')]
2026-01-28 08:20:48.215 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2026-01-28 08:20:48.217 [http-nio-8080-exec-5] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:20:48.226 [http-nio-8080-exec-5] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:20:48.227 [http-nio-8080-exec-5] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT SUM(quantity) FROM order_items oi JOIN orders o ON oi.order_id = o.order_id WHERE o.user_id = ? AND o.status NOT IN ('cancelled')]
2026-01-28 08:20:48.227 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2026-01-28 08:20:48.227 [http-nio-8080-exec-5] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:20:48.240 [http-nio-8080-exec-5] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:20:48.241 [http-nio-8080-exec-5] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT c.category_name, SUM(oi.subtotal) as spent FROM categories c JOIN products p ON c.category_id = p.category_id JOIN order_items oi ON p.product_id = oi.product_id JOIN orders o ON oi.order_id = o.order_id WHERE o.user_id = ? AND o.status NOT IN ('cancelled') GROUP BY c.category_name]
2026-01-28 08:20:48.241 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2026-01-28 08:20:48.241 [http-nio-8080-exec-5] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:20:48.270 [http-nio-8080-exec-5] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:20:48.271 [http-nio-8080-exec-5] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [(SELECT 'Purchased ' || p.product_name as description, TO_CHAR(o.order_date, 'YYYY-MM-DD') as date, 'PURCHASE' as type FROM orders o JOIN order_items oi ON o.order_id = oi.order_id JOIN products p ON oi.product_id = p.product_id WHERE o.user_id = ?) UNION (SELECT 'Reviewed ' || p.product_name as description, TO_CHAR(r.created_at, 'YYYY-MM-DD') as date, 'REVIEW' as type FROM reviews r JOIN products p ON r.product_id = p.product_id WHERE r.user_id = ?) ORDER BY date DESC LIMIT 5]
2026-01-28 08:20:48.271 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2026-01-28 08:20:48.271 [http-nio-8080-exec-5] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:20:48.272 [http-nio-8080-exec-5] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 2, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:20:48.293 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:20:48.293] EXITING: AnalyticsServiceImpl.getUserAnalytics returned: UserAnalyticsResponse
2026-01-28 08:20:48.298 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint AnalyticsController.getUserAnalytics responded in 182ms
2026-01-28 08:20:48.298 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: AnalyticsController.getUserAnalytics returned: ResponseEntity
2026-01-28 08:20:48.507 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: AnalyticsController.getUserAnalytics with arguments: [3]
2026-01-28 08:20:48.507 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:20:48.507] ENTERING: AnalyticsServiceImpl.getUserAnalytics with arguments: [3]
2026-01-28 08:20:48.507 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:20:48.507 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT COUNT(*) FROM orders WHERE user_id = ?]
2026-01-28 08:20:48.508 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2026-01-28 08:20:48.509 [http-nio-8080-exec-6] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:20:48.513 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:20:48.514 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT SUM(total_amount) FROM orders WHERE user_id = ? AND status NOT IN ('cancelled')]
2026-01-28 08:20:48.514 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2026-01-28 08:20:48.514 [http-nio-8080-exec-6] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:20:48.516 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:20:48.516 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT SUM(quantity) FROM order_items oi JOIN orders o ON oi.order_id = o.order_id WHERE o.user_id = ? AND o.status NOT IN ('cancelled')]
2026-01-28 08:20:48.517 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2026-01-28 08:20:48.518 [http-nio-8080-exec-6] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:20:48.520 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:20:48.521 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT c.category_name, SUM(oi.subtotal) as spent FROM categories c JOIN products p ON c.category_id = p.category_id JOIN order_items oi ON p.product_id = oi.product_id JOIN orders o ON oi.order_id = o.order_id WHERE o.user_id = ? AND o.status NOT IN ('cancelled') GROUP BY c.category_name]
2026-01-28 08:20:48.521 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2026-01-28 08:20:48.521 [http-nio-8080-exec-6] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:20:48.524 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:20:48.525 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [(SELECT 'Purchased ' || p.product_name as description, TO_CHAR(o.order_date, 'YYYY-MM-DD') as date, 'PURCHASE' as type FROM orders o JOIN order_items oi ON o.order_id = oi.order_id JOIN products p ON oi.product_id = p.product_id WHERE o.user_id = ?) UNION (SELECT 'Reviewed ' || p.product_name as description, TO_CHAR(r.created_at, 'YYYY-MM-DD') as date, 'REVIEW' as type FROM reviews r JOIN products p ON r.product_id = p.product_id WHERE r.user_id = ?) ORDER BY date DESC LIMIT 5]
2026-01-28 08:20:48.525 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2026-01-28 08:20:48.525 [http-nio-8080-exec-6] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:20:48.526 [http-nio-8080-exec-6] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 2, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:20:48.530 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:20:48.529] EXITING: AnalyticsServiceImpl.getUserAnalytics returned: UserAnalyticsResponse
2026-01-28 08:20:48.530 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint AnalyticsController.getUserAnalytics responded in 23ms
2026-01-28 08:20:48.530 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: AnalyticsController.getUserAnalytics returned: ResponseEntity
2026-01-28 08:20:56.624 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:20:56.625 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:20:56.625 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:21:10.437 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: OrderController.getOrdersByUser with arguments: [3]
2026-01-28 08:21:10.444 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Creating new transaction with name [com.shopjoy.service.impl.OrderServiceImpl.getOrdersByUser]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-28 08:21:10.448 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Acquired Connection [HikariProxyConnection@2113872161 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7] for JDBC transaction
2026-01-28 08:21:10.451 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@2113872161 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7] read-only
2026-01-28 08:21:10.451 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Switching JDBC Connection [HikariProxyConnection@2113872161 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7] to manual commit
2026-01-28 08:21:10.452 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:10.452] ENTERING: OrderServiceImpl.getOrdersByUser with arguments: [3]
2026-01-28 08:21:10.453 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.453 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:10.454 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM orders WHERE user_id = ? ORDER BY order_date DESC]
2026-01-28 08:21:10.454 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:10.461 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.461 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:10.461] ENTERING: UserServiceImpl.getUserById with arguments: [3]
2026-01-28 08:21:10.462 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.462 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:10.462 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT user_id, username, email, password_hash, first_name, last_name, 
        phone, user_type, created_at, updated_at
 FROM users WHERE user_id = ?
 ]
2026-01-28 08:21:10.463 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:10.471 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:10.471] EXITING: UserServiceImpl.getUserById returned: UserResponse
2026-01-28 08:21:10.471 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.473 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:10.474 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM order_items WHERE order_id = ?]
2026-01-28 08:21:10.474 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [8], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:10.477 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.477 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:10.477] ENTERING: ProductServiceImpl.getProductById with arguments: [41]
2026-01-28 08:21:10.477 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.478 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:10.478 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:21:10.479 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:10.480 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.481 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:10.481 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:21:10.481 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:10.483 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.484 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:10.484 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:21:10.484 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:10.492 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:10.492] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:21:10.496 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.497 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:10.497] ENTERING: UserServiceImpl.getUserById with arguments: [3]
2026-01-28 08:21:10.497 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.497 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:10.497 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT user_id, username, email, password_hash, first_name, last_name, 
        phone, user_type, created_at, updated_at
 FROM users WHERE user_id = ?
 ]
2026-01-28 08:21:10.497 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:10.499 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:10.499] EXITING: UserServiceImpl.getUserById returned: UserResponse
2026-01-28 08:21:10.499 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.499 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:10.499 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM order_items WHERE order_id = ?]
2026-01-28 08:21:10.499 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [7], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:10.501 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.501 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:10.501] ENTERING: ProductServiceImpl.getProductById with arguments: [4]
2026-01-28 08:21:10.501 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.502 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:10.502 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:21:10.502 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [4], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:10.504 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.504 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:10.504 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:21:10.504 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [11], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:10.509 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.509 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:10.510 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:21:10.510 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [4], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:10.511 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:10.511] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:21:10.512 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.512 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:10.512] ENTERING: UserServiceImpl.getUserById with arguments: [3]
2026-01-28 08:21:10.512 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.513 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:10.513 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT user_id, username, email, password_hash, first_name, last_name, 
        phone, user_type, created_at, updated_at
 FROM users WHERE user_id = ?
 ]
2026-01-28 08:21:10.513 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:10.514 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:10.514] EXITING: UserServiceImpl.getUserById returned: UserResponse
2026-01-28 08:21:10.514 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.514 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:10.514 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM order_items WHERE order_id = ?]
2026-01-28 08:21:10.515 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [6], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:10.517 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.517 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:10.517] ENTERING: ProductServiceImpl.getProductById with arguments: [85]
2026-01-28 08:21:10.518 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.518 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:10.518 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:21:10.518 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [85], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:10.520 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.520 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:10.520 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:21:10.520 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [10], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:10.524 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.524 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:10.524 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:21:10.524 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [85], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:10.526 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:10.526] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:21:10.527 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.527 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:10.527] ENTERING: UserServiceImpl.getUserById with arguments: [3]
2026-01-28 08:21:10.527 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.527 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:10.527 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT user_id, username, email, password_hash, first_name, last_name, 
        phone, user_type, created_at, updated_at
 FROM users WHERE user_id = ?
 ]
2026-01-28 08:21:10.528 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:10.529 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:10.529] EXITING: UserServiceImpl.getUserById returned: UserResponse
2026-01-28 08:21:10.529 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.530 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:10.530 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM order_items WHERE order_id = ?]
2026-01-28 08:21:10.530 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [5], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:10.531 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.532 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:10.532] ENTERING: ProductServiceImpl.getProductById with arguments: [41]
2026-01-28 08:21:10.532 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.532 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:10.532 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:21:10.532 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:10.534 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.534 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:10.534 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:21:10.535 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:10.536 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.536 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:10.536 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:21:10.536 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:10.539 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:10.539] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:21:10.540 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.540 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:10.540] ENTERING: UserServiceImpl.getUserById with arguments: [3]
2026-01-28 08:21:10.540 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.541 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:10.541 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT user_id, username, email, password_hash, first_name, last_name, 
        phone, user_type, created_at, updated_at
 FROM users WHERE user_id = ?
 ]
2026-01-28 08:21:10.542 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:10.546 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:10.546] EXITING: UserServiceImpl.getUserById returned: UserResponse
2026-01-28 08:21:10.547 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.547 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:10.547 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM order_items WHERE order_id = ?]
2026-01-28 08:21:10.547 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [4], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:10.549 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.549 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:10.549] ENTERING: ProductServiceImpl.getProductById with arguments: [18]
2026-01-28 08:21:10.550 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.550 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:10.550 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:21:10.550 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [18], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:10.552 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.552 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:10.552 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:21:10.553 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [15], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:10.554 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.555 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:10.555 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:21:10.555 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [18], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:10.557 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:10.557] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:21:10.559 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.559 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:10.559] ENTERING: ProductServiceImpl.getProductById with arguments: [41]
2026-01-28 08:21:10.559 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.559 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:10.559 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:21:10.559 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:10.562 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.562 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:10.562 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:21:10.562 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:10.563 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.564 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:10.564 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:21:10.564 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:10.565 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:10.565] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:21:10.566 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:10.566] EXITING: OrderServiceImpl.getOrdersByUser returned: ArrayList
2026-01-28 08:21:10.566 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Initiating transaction commit
2026-01-28 08:21:10.567 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Committing JDBC transaction on Connection [HikariProxyConnection@2113872161 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7]
2026-01-28 08:21:10.568 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@2113872161 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7]
2026-01-28 08:21:10.568 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Releasing JDBC Connection [HikariProxyConnection@2113872161 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7] after transaction
2026-01-28 08:21:10.569 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint OrderController.getOrdersByUser responded in 130ms
2026-01-28 08:21:10.569 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: OrderController.getOrdersByUser returned: ResponseEntity
2026-01-28 08:21:10.599 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: OrderController.getOrdersByUser with arguments: [3]
2026-01-28 08:21:10.599 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Creating new transaction with name [com.shopjoy.service.impl.OrderServiceImpl.getOrdersByUser]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-28 08:21:10.599 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Acquired Connection [HikariProxyConnection@611673662 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7] for JDBC transaction
2026-01-28 08:21:10.599 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@611673662 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7] read-only
2026-01-28 08:21:10.599 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Switching JDBC Connection [HikariProxyConnection@611673662 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7] to manual commit
2026-01-28 08:21:10.600 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:10.599] ENTERING: OrderServiceImpl.getOrdersByUser with arguments: [3]
2026-01-28 08:21:10.600 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.600 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:10.600 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM orders WHERE user_id = ? ORDER BY order_date DESC]
2026-01-28 08:21:10.600 [http-nio-8080-exec-4] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:10.602 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.602 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:10.602] ENTERING: UserServiceImpl.getUserById with arguments: [3]
2026-01-28 08:21:10.603 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.603 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:10.603 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT user_id, username, email, password_hash, first_name, last_name, 
        phone, user_type, created_at, updated_at
 FROM users WHERE user_id = ?
 ]
2026-01-28 08:21:10.603 [http-nio-8080-exec-4] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:10.606 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:10.606] EXITING: UserServiceImpl.getUserById returned: UserResponse
2026-01-28 08:21:10.607 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.608 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:10.609 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM order_items WHERE order_id = ?]
2026-01-28 08:21:10.609 [http-nio-8080-exec-4] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [8], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:10.611 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.611 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:10.611] ENTERING: ProductServiceImpl.getProductById with arguments: [41]
2026-01-28 08:21:10.611 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.611 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:10.611 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:21:10.611 [http-nio-8080-exec-4] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:10.613 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.613 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:10.613 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:21:10.613 [http-nio-8080-exec-4] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:10.615 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.615 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:10.615 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:21:10.615 [http-nio-8080-exec-4] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:10.616 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:10.616] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:21:10.617 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.617 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:10.617] ENTERING: UserServiceImpl.getUserById with arguments: [3]
2026-01-28 08:21:10.617 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.617 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:10.617 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT user_id, username, email, password_hash, first_name, last_name, 
        phone, user_type, created_at, updated_at
 FROM users WHERE user_id = ?
 ]
2026-01-28 08:21:10.617 [http-nio-8080-exec-4] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:10.619 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:10.619] EXITING: UserServiceImpl.getUserById returned: UserResponse
2026-01-28 08:21:10.619 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.619 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:10.619 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM order_items WHERE order_id = ?]
2026-01-28 08:21:10.619 [http-nio-8080-exec-4] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [7], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:10.620 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.621 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:10.621] ENTERING: ProductServiceImpl.getProductById with arguments: [4]
2026-01-28 08:21:10.622 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.622 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:10.623 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:21:10.623 [http-nio-8080-exec-4] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [4], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:10.625 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.626 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:10.626 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:21:10.626 [http-nio-8080-exec-4] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [11], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:10.627 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.628 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:10.628 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:21:10.628 [http-nio-8080-exec-4] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [4], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:10.629 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:10.629] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:21:10.629 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.629 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:10.629] ENTERING: UserServiceImpl.getUserById with arguments: [3]
2026-01-28 08:21:10.630 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.630 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:10.630 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT user_id, username, email, password_hash, first_name, last_name, 
        phone, user_type, created_at, updated_at
 FROM users WHERE user_id = ?
 ]
2026-01-28 08:21:10.630 [http-nio-8080-exec-4] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:10.631 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:10.631] EXITING: UserServiceImpl.getUserById returned: UserResponse
2026-01-28 08:21:10.631 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.632 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:10.632 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM order_items WHERE order_id = ?]
2026-01-28 08:21:10.632 [http-nio-8080-exec-4] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [6], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:10.633 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.634 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:10.634] ENTERING: ProductServiceImpl.getProductById with arguments: [85]
2026-01-28 08:21:10.635 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.635 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:10.635 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:21:10.635 [http-nio-8080-exec-4] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [85], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:10.637 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.637 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:10.637 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:21:10.637 [http-nio-8080-exec-4] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [10], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:10.642 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.643 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:10.643 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:21:10.643 [http-nio-8080-exec-4] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [85], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:10.645 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:10.645] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:21:10.645 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.645 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:10.645] ENTERING: UserServiceImpl.getUserById with arguments: [3]
2026-01-28 08:21:10.646 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.646 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:10.646 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT user_id, username, email, password_hash, first_name, last_name, 
        phone, user_type, created_at, updated_at
 FROM users WHERE user_id = ?
 ]
2026-01-28 08:21:10.646 [http-nio-8080-exec-4] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:10.647 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:10.647] EXITING: UserServiceImpl.getUserById returned: UserResponse
2026-01-28 08:21:10.648 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.648 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:10.648 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM order_items WHERE order_id = ?]
2026-01-28 08:21:10.648 [http-nio-8080-exec-4] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [5], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:10.649 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.650 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:10.650] ENTERING: ProductServiceImpl.getProductById with arguments: [41]
2026-01-28 08:21:10.650 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.650 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:10.650 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:21:10.650 [http-nio-8080-exec-4] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:10.651 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.651 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:10.651 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:21:10.652 [http-nio-8080-exec-4] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:10.653 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.653 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:10.653 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:21:10.653 [http-nio-8080-exec-4] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:10.655 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:10.655] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:21:10.655 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.655 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:10.655] ENTERING: UserServiceImpl.getUserById with arguments: [3]
2026-01-28 08:21:10.656 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.656 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:10.656 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT user_id, username, email, password_hash, first_name, last_name, 
        phone, user_type, created_at, updated_at
 FROM users WHERE user_id = ?
 ]
2026-01-28 08:21:10.656 [http-nio-8080-exec-4] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:10.658 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:10.658] EXITING: UserServiceImpl.getUserById returned: UserResponse
2026-01-28 08:21:10.658 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.659 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:10.659 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM order_items WHERE order_id = ?]
2026-01-28 08:21:10.659 [http-nio-8080-exec-4] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [4], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:10.661 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.661 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:10.661] ENTERING: ProductServiceImpl.getProductById with arguments: [18]
2026-01-28 08:21:10.661 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.661 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:10.661 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:21:10.661 [http-nio-8080-exec-4] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [18], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:10.662 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.662 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:10.662 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:21:10.662 [http-nio-8080-exec-4] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [15], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:10.664 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.664 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:10.664 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:21:10.664 [http-nio-8080-exec-4] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [18], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:10.666 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:10.666] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:21:10.666 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.666 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:10.666] ENTERING: ProductServiceImpl.getProductById with arguments: [41]
2026-01-28 08:21:10.666 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.666 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:10.667 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:21:10.667 [http-nio-8080-exec-4] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:10.668 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.668 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:10.668 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:21:10.668 [http-nio-8080-exec-4] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:10.669 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:10.670 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:10.670 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:21:10.670 [http-nio-8080-exec-4] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:10.673 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:10.673] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:21:10.674 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:10.674] EXITING: OrderServiceImpl.getOrdersByUser returned: ArrayList
2026-01-28 08:21:10.674 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Initiating transaction commit
2026-01-28 08:21:10.674 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Committing JDBC transaction on Connection [HikariProxyConnection@611673662 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7]
2026-01-28 08:21:10.675 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@611673662 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7]
2026-01-28 08:21:10.675 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Releasing JDBC Connection [HikariProxyConnection@611673662 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7] after transaction
2026-01-28 08:21:10.675 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint OrderController.getOrdersByUser responded in 76ms
2026-01-28 08:21:10.675 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: OrderController.getOrdersByUser returned: ResponseEntity
2026-01-28 08:21:26.625 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:21:26.625 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:21:26.625 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:21:50.943 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: AnalyticsController.getUserAnalytics with arguments: [3]
2026-01-28 08:21:50.943 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:50.943] ENTERING: AnalyticsServiceImpl.getUserAnalytics with arguments: [3]
2026-01-28 08:21:50.943 [http-nio-8080-exec-7] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:50.943 [http-nio-8080-exec-7] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT COUNT(*) FROM orders WHERE user_id = ?]
2026-01-28 08:21:50.944 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2026-01-28 08:21:50.952 [http-nio-8080-exec-7] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:50.955 [http-nio-8080-exec-7] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:50.955 [http-nio-8080-exec-7] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT SUM(total_amount) FROM orders WHERE user_id = ? AND status NOT IN ('cancelled')]
2026-01-28 08:21:50.955 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2026-01-28 08:21:50.956 [http-nio-8080-exec-7] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:50.957 [http-nio-8080-exec-7] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:50.957 [http-nio-8080-exec-7] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT SUM(quantity) FROM order_items oi JOIN orders o ON oi.order_id = o.order_id WHERE o.user_id = ? AND o.status NOT IN ('cancelled')]
2026-01-28 08:21:50.957 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2026-01-28 08:21:50.957 [http-nio-8080-exec-7] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:50.959 [http-nio-8080-exec-7] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:50.959 [http-nio-8080-exec-7] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT c.category_name, SUM(oi.subtotal) as spent FROM categories c JOIN products p ON c.category_id = p.category_id JOIN order_items oi ON p.product_id = oi.product_id JOIN orders o ON oi.order_id = o.order_id WHERE o.user_id = ? AND o.status NOT IN ('cancelled') GROUP BY c.category_name]
2026-01-28 08:21:50.959 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2026-01-28 08:21:50.960 [http-nio-8080-exec-7] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:50.963 [http-nio-8080-exec-7] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:50.963 [http-nio-8080-exec-7] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [(SELECT 'Purchased ' || p.product_name as description, TO_CHAR(o.order_date, 'YYYY-MM-DD') as date, 'PURCHASE' as type FROM orders o JOIN order_items oi ON o.order_id = oi.order_id JOIN products p ON oi.product_id = p.product_id WHERE o.user_id = ?) UNION (SELECT 'Reviewed ' || p.product_name as description, TO_CHAR(r.created_at, 'YYYY-MM-DD') as date, 'REVIEW' as type FROM reviews r JOIN products p ON r.product_id = p.product_id WHERE r.user_id = ?) ORDER BY date DESC LIMIT 5]
2026-01-28 08:21:50.963 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2026-01-28 08:21:50.963 [http-nio-8080-exec-7] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:50.963 [http-nio-8080-exec-7] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 2, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:50.966 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:50.966] EXITING: AnalyticsServiceImpl.getUserAnalytics returned: UserAnalyticsResponse
2026-01-28 08:21:50.966 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint AnalyticsController.getUserAnalytics responded in 23ms
2026-01-28 08:21:50.967 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: AnalyticsController.getUserAnalytics returned: ResponseEntity
2026-01-28 08:21:50.983 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: AnalyticsController.getUserAnalytics with arguments: [3]
2026-01-28 08:21:50.984 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:50.984] ENTERING: AnalyticsServiceImpl.getUserAnalytics with arguments: [3]
2026-01-28 08:21:50.988 [http-nio-8080-exec-8] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:50.988 [http-nio-8080-exec-8] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT COUNT(*) FROM orders WHERE user_id = ?]
2026-01-28 08:21:50.989 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2026-01-28 08:21:50.989 [http-nio-8080-exec-8] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:50.991 [http-nio-8080-exec-8] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:50.992 [http-nio-8080-exec-8] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT SUM(total_amount) FROM orders WHERE user_id = ? AND status NOT IN ('cancelled')]
2026-01-28 08:21:50.992 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2026-01-28 08:21:50.992 [http-nio-8080-exec-8] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:50.994 [http-nio-8080-exec-8] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:50.994 [http-nio-8080-exec-8] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT SUM(quantity) FROM order_items oi JOIN orders o ON oi.order_id = o.order_id WHERE o.user_id = ? AND o.status NOT IN ('cancelled')]
2026-01-28 08:21:50.994 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2026-01-28 08:21:50.994 [http-nio-8080-exec-8] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:50.996 [http-nio-8080-exec-8] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:50.996 [http-nio-8080-exec-8] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT c.category_name, SUM(oi.subtotal) as spent FROM categories c JOIN products p ON c.category_id = p.category_id JOIN order_items oi ON p.product_id = oi.product_id JOIN orders o ON oi.order_id = o.order_id WHERE o.user_id = ? AND o.status NOT IN ('cancelled') GROUP BY c.category_name]
2026-01-28 08:21:50.996 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2026-01-28 08:21:50.997 [http-nio-8080-exec-8] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:51.000 [http-nio-8080-exec-8] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:51.000 [http-nio-8080-exec-8] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [(SELECT 'Purchased ' || p.product_name as description, TO_CHAR(o.order_date, 'YYYY-MM-DD') as date, 'PURCHASE' as type FROM orders o JOIN order_items oi ON o.order_id = oi.order_id JOIN products p ON oi.product_id = p.product_id WHERE o.user_id = ?) UNION (SELECT 'Reviewed ' || p.product_name as description, TO_CHAR(r.created_at, 'YYYY-MM-DD') as date, 'REVIEW' as type FROM reviews r JOIN products p ON r.product_id = p.product_id WHERE r.user_id = ?) ORDER BY date DESC LIMIT 5]
2026-01-28 08:21:51.000 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2026-01-28 08:21:51.000 [http-nio-8080-exec-8] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:51.000 [http-nio-8080-exec-8] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 2, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:51.006 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:51.006] EXITING: AnalyticsServiceImpl.getUserAnalytics returned: UserAnalyticsResponse
2026-01-28 08:21:51.006 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint AnalyticsController.getUserAnalytics responded in 23ms
2026-01-28 08:21:51.006 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: AnalyticsController.getUserAnalytics returned: ResponseEntity
2026-01-28 08:21:52.859 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: OrderController.getOrdersByUser with arguments: [3]
2026-01-28 08:21:52.859 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Creating new transaction with name [com.shopjoy.service.impl.OrderServiceImpl.getOrdersByUser]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-28 08:21:52.862 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Acquired Connection [HikariProxyConnection@1224776603 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7] for JDBC transaction
2026-01-28 08:21:52.862 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1224776603 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7] read-only
2026-01-28 08:21:52.862 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Switching JDBC Connection [HikariProxyConnection@1224776603 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7] to manual commit
2026-01-28 08:21:52.862 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:52.862] ENTERING: OrderServiceImpl.getOrdersByUser with arguments: [3]
2026-01-28 08:21:52.862 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.862 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:52.862 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM orders WHERE user_id = ? ORDER BY order_date DESC]
2026-01-28 08:21:52.863 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:52.865 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.865 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:52.865] ENTERING: UserServiceImpl.getUserById with arguments: [3]
2026-01-28 08:21:52.866 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.866 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:52.866 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT user_id, username, email, password_hash, first_name, last_name, 
        phone, user_type, created_at, updated_at
 FROM users WHERE user_id = ?
 ]
2026-01-28 08:21:52.866 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:52.868 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:52.868] EXITING: UserServiceImpl.getUserById returned: UserResponse
2026-01-28 08:21:52.868 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.869 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:52.869 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM order_items WHERE order_id = ?]
2026-01-28 08:21:52.869 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [8], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:52.870 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.871 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:52.871] ENTERING: ProductServiceImpl.getProductById with arguments: [41]
2026-01-28 08:21:52.871 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.871 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:52.871 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:21:52.871 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:52.872 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.873 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:52.873 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:21:52.873 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:52.874 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.874 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:52.874 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:21:52.874 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:52.875 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:52.875] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:21:52.875 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.875 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:52.875] ENTERING: UserServiceImpl.getUserById with arguments: [3]
2026-01-28 08:21:52.876 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.876 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:52.876 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT user_id, username, email, password_hash, first_name, last_name, 
        phone, user_type, created_at, updated_at
 FROM users WHERE user_id = ?
 ]
2026-01-28 08:21:52.876 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:52.877 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:52.877] EXITING: UserServiceImpl.getUserById returned: UserResponse
2026-01-28 08:21:52.877 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.877 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:52.877 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM order_items WHERE order_id = ?]
2026-01-28 08:21:52.877 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [7], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:52.878 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.879 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:52.879] ENTERING: ProductServiceImpl.getProductById with arguments: [4]
2026-01-28 08:21:52.879 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.879 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:52.879 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:21:52.879 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [4], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:52.880 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.881 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:52.881 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:21:52.881 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [11], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:52.882 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.882 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:52.882 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:21:52.882 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [4], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:52.885 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:52.885] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:21:52.885 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.885 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:52.885] ENTERING: UserServiceImpl.getUserById with arguments: [3]
2026-01-28 08:21:52.885 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.886 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:52.886 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT user_id, username, email, password_hash, first_name, last_name, 
        phone, user_type, created_at, updated_at
 FROM users WHERE user_id = ?
 ]
2026-01-28 08:21:52.886 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:52.887 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:52.887] EXITING: UserServiceImpl.getUserById returned: UserResponse
2026-01-28 08:21:52.887 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.888 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:52.888 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM order_items WHERE order_id = ?]
2026-01-28 08:21:52.888 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [6], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:52.889 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.889 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:52.889] ENTERING: ProductServiceImpl.getProductById with arguments: [85]
2026-01-28 08:21:52.889 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.889 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:52.890 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:21:52.890 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [85], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:52.891 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.891 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:52.891 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:21:52.891 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [10], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:52.892 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.892 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:52.892 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:21:52.892 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [85], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:52.894 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:52.893] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:21:52.894 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.894 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:52.894] ENTERING: UserServiceImpl.getUserById with arguments: [3]
2026-01-28 08:21:52.894 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.894 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:52.894 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT user_id, username, email, password_hash, first_name, last_name, 
        phone, user_type, created_at, updated_at
 FROM users WHERE user_id = ?
 ]
2026-01-28 08:21:52.894 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:52.896 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:52.895] EXITING: UserServiceImpl.getUserById returned: UserResponse
2026-01-28 08:21:52.896 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.896 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:52.896 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM order_items WHERE order_id = ?]
2026-01-28 08:21:52.896 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [5], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:52.897 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.897 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:52.897] ENTERING: ProductServiceImpl.getProductById with arguments: [41]
2026-01-28 08:21:52.897 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.897 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:52.897 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:21:52.898 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:52.899 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.899 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:52.899 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:21:52.899 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:52.902 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.902 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:52.902 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:21:52.902 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:52.903 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:52.903] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:21:52.903 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.904 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:52.904] ENTERING: UserServiceImpl.getUserById with arguments: [3]
2026-01-28 08:21:52.904 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.904 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:52.904 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT user_id, username, email, password_hash, first_name, last_name, 
        phone, user_type, created_at, updated_at
 FROM users WHERE user_id = ?
 ]
2026-01-28 08:21:52.904 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:52.905 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:52.905] EXITING: UserServiceImpl.getUserById returned: UserResponse
2026-01-28 08:21:52.905 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.906 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:52.906 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM order_items WHERE order_id = ?]
2026-01-28 08:21:52.906 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [4], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:52.909 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.909 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:52.909] ENTERING: ProductServiceImpl.getProductById with arguments: [18]
2026-01-28 08:21:52.910 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.910 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:52.910 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:21:52.910 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [18], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:52.911 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.911 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:52.911 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:21:52.911 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [15], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:52.912 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.912 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:52.912 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:21:52.912 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [18], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:52.919 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:52.919] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:21:52.919 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.919 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:52.919] ENTERING: ProductServiceImpl.getProductById with arguments: [41]
2026-01-28 08:21:52.919 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.919 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:52.919 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:21:52.919 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:52.920 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.921 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:52.921 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:21:52.921 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:52.922 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.922 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:52.922 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:21:52.922 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:52.923 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:52.923] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:21:52.923 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:52.923] EXITING: OrderServiceImpl.getOrdersByUser returned: ArrayList
2026-01-28 08:21:52.923 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Initiating transaction commit
2026-01-28 08:21:52.923 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Committing JDBC transaction on Connection [HikariProxyConnection@1224776603 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7]
2026-01-28 08:21:52.924 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1224776603 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7]
2026-01-28 08:21:52.924 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Releasing JDBC Connection [HikariProxyConnection@1224776603 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7] after transaction
2026-01-28 08:21:52.924 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint OrderController.getOrdersByUser responded in 65ms
2026-01-28 08:21:52.924 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: OrderController.getOrdersByUser returned: ResponseEntity
2026-01-28 08:21:52.932 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: OrderController.getOrdersByUser with arguments: [3]
2026-01-28 08:21:52.933 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Creating new transaction with name [com.shopjoy.service.impl.OrderServiceImpl.getOrdersByUser]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-28 08:21:52.933 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Acquired Connection [HikariProxyConnection@137216478 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7] for JDBC transaction
2026-01-28 08:21:52.933 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@137216478 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7] read-only
2026-01-28 08:21:52.933 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Switching JDBC Connection [HikariProxyConnection@137216478 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7] to manual commit
2026-01-28 08:21:52.934 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:52.934] ENTERING: OrderServiceImpl.getOrdersByUser with arguments: [3]
2026-01-28 08:21:52.934 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.934 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:52.935 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM orders WHERE user_id = ? ORDER BY order_date DESC]
2026-01-28 08:21:52.935 [http-nio-8080-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:52.938 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.938 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:52.938] ENTERING: UserServiceImpl.getUserById with arguments: [3]
2026-01-28 08:21:52.938 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.938 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:52.938 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT user_id, username, email, password_hash, first_name, last_name, 
        phone, user_type, created_at, updated_at
 FROM users WHERE user_id = ?
 ]
2026-01-28 08:21:52.938 [http-nio-8080-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:52.939 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:52.939] EXITING: UserServiceImpl.getUserById returned: UserResponse
2026-01-28 08:21:52.940 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.940 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:52.940 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM order_items WHERE order_id = ?]
2026-01-28 08:21:52.940 [http-nio-8080-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [8], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:52.941 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.941 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:52.941] ENTERING: ProductServiceImpl.getProductById with arguments: [41]
2026-01-28 08:21:52.942 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.942 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:52.942 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:21:52.942 [http-nio-8080-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:52.943 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.944 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:52.944 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:21:52.944 [http-nio-8080-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:52.944 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.945 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:52.945 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:21:52.945 [http-nio-8080-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:52.945 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:52.945] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:21:52.946 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.946 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:52.946] ENTERING: UserServiceImpl.getUserById with arguments: [3]
2026-01-28 08:21:52.946 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.947 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:52.947 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT user_id, username, email, password_hash, first_name, last_name, 
        phone, user_type, created_at, updated_at
 FROM users WHERE user_id = ?
 ]
2026-01-28 08:21:52.947 [http-nio-8080-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:52.948 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:52.948] EXITING: UserServiceImpl.getUserById returned: UserResponse
2026-01-28 08:21:52.948 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.948 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:52.948 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM order_items WHERE order_id = ?]
2026-01-28 08:21:52.948 [http-nio-8080-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [7], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:52.949 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.949 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:52.949] ENTERING: ProductServiceImpl.getProductById with arguments: [4]
2026-01-28 08:21:52.949 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.950 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:52.950 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:21:52.950 [http-nio-8080-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [4], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:52.951 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.951 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:52.951 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:21:52.951 [http-nio-8080-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [11], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:52.952 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.953 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:52.953 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:21:52.953 [http-nio-8080-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [4], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:52.953 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:52.953] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:21:52.954 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.954 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:52.954] ENTERING: UserServiceImpl.getUserById with arguments: [3]
2026-01-28 08:21:52.954 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.954 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:52.954 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT user_id, username, email, password_hash, first_name, last_name, 
        phone, user_type, created_at, updated_at
 FROM users WHERE user_id = ?
 ]
2026-01-28 08:21:52.954 [http-nio-8080-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:52.955 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:52.955] EXITING: UserServiceImpl.getUserById returned: UserResponse
2026-01-28 08:21:52.955 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.955 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:52.955 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM order_items WHERE order_id = ?]
2026-01-28 08:21:52.956 [http-nio-8080-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [6], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:52.956 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.957 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:52.957] ENTERING: ProductServiceImpl.getProductById with arguments: [85]
2026-01-28 08:21:52.957 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.957 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:52.957 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:21:52.957 [http-nio-8080-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [85], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:52.959 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.959 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:52.959 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:21:52.959 [http-nio-8080-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [10], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:52.960 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.960 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:52.960 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:21:52.961 [http-nio-8080-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [85], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:52.962 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:52.962] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:21:52.962 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.962 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:52.962] ENTERING: UserServiceImpl.getUserById with arguments: [3]
2026-01-28 08:21:52.962 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.962 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:52.962 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT user_id, username, email, password_hash, first_name, last_name, 
        phone, user_type, created_at, updated_at
 FROM users WHERE user_id = ?
 ]
2026-01-28 08:21:52.963 [http-nio-8080-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:52.964 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:52.964] EXITING: UserServiceImpl.getUserById returned: UserResponse
2026-01-28 08:21:52.965 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.965 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:52.965 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM order_items WHERE order_id = ?]
2026-01-28 08:21:52.965 [http-nio-8080-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [5], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:52.968 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.968 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:52.968] ENTERING: ProductServiceImpl.getProductById with arguments: [41]
2026-01-28 08:21:52.968 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.969 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:52.969 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:21:52.969 [http-nio-8080-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:52.970 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.970 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:52.970 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:21:52.971 [http-nio-8080-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:52.972 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.973 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:52.973 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:21:52.973 [http-nio-8080-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:52.975 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:52.975] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:21:52.975 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.975 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:52.975] ENTERING: UserServiceImpl.getUserById with arguments: [3]
2026-01-28 08:21:52.975 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.975 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:52.975 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT user_id, username, email, password_hash, first_name, last_name, 
        phone, user_type, created_at, updated_at
 FROM users WHERE user_id = ?
 ]
2026-01-28 08:21:52.975 [http-nio-8080-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:52.976 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:52.976] EXITING: UserServiceImpl.getUserById returned: UserResponse
2026-01-28 08:21:52.976 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.977 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:52.977 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM order_items WHERE order_id = ?]
2026-01-28 08:21:52.977 [http-nio-8080-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [4], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:52.978 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.978 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:52.978] ENTERING: ProductServiceImpl.getProductById with arguments: [18]
2026-01-28 08:21:52.979 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.979 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:52.979 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:21:52.979 [http-nio-8080-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [18], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:52.981 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.981 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:52.981 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:21:52.981 [http-nio-8080-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [15], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:52.984 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.985 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:52.985 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:21:52.985 [http-nio-8080-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [18], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:52.985 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:52.985] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:21:52.987 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.987 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:52.987] ENTERING: ProductServiceImpl.getProductById with arguments: [41]
2026-01-28 08:21:52.987 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.987 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:52.987 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:21:52.988 [http-nio-8080-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:52.990 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.990 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:52.991 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:21:52.991 [http-nio-8080-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:52.992 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:21:52.992 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:21:52.992 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:21:52.993 [http-nio-8080-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:21:52.994 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:52.994] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:21:52.994 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:21:52.994] EXITING: OrderServiceImpl.getOrdersByUser returned: ArrayList
2026-01-28 08:21:52.994 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Initiating transaction commit
2026-01-28 08:21:52.994 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Committing JDBC transaction on Connection [HikariProxyConnection@137216478 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7]
2026-01-28 08:21:52.995 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@137216478 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7]
2026-01-28 08:21:52.995 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Releasing JDBC Connection [HikariProxyConnection@137216478 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7] after transaction
2026-01-28 08:21:52.995 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint OrderController.getOrdersByUser responded in 63ms
2026-01-28 08:21:52.995 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: OrderController.getOrdersByUser returned: ResponseEntity
2026-01-28 08:21:56.626 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:21:56.626 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:21:56.626 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:22:16.501 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - keepalive: connection org.postgresql.jdbc.PgConnection@5eb1c6b is alive
2026-01-28 08:22:20.527 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: AnalyticsController.getUserAnalytics with arguments: [3]
2026-01-28 08:22:20.528 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:22:20.528] ENTERING: AnalyticsServiceImpl.getUserAnalytics with arguments: [3]
2026-01-28 08:22:20.528 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:20.528 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT COUNT(*) FROM orders WHERE user_id = ?]
2026-01-28 08:22:20.528 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2026-01-28 08:22:20.529 [http-nio-8080-exec-6] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:20.536 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:20.536 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT SUM(total_amount) FROM orders WHERE user_id = ? AND status NOT IN ('cancelled')]
2026-01-28 08:22:20.536 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2026-01-28 08:22:20.536 [http-nio-8080-exec-6] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:20.538 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:20.538 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT SUM(quantity) FROM order_items oi JOIN orders o ON oi.order_id = o.order_id WHERE o.user_id = ? AND o.status NOT IN ('cancelled')]
2026-01-28 08:22:20.538 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2026-01-28 08:22:20.539 [http-nio-8080-exec-6] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:20.549 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:20.549 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT c.category_name, SUM(oi.subtotal) as spent FROM categories c JOIN products p ON c.category_id = p.category_id JOIN order_items oi ON p.product_id = oi.product_id JOIN orders o ON oi.order_id = o.order_id WHERE o.user_id = ? AND o.status NOT IN ('cancelled') GROUP BY c.category_name]
2026-01-28 08:22:20.549 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2026-01-28 08:22:20.550 [http-nio-8080-exec-6] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:20.553 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:20.554 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [(SELECT 'Purchased ' || p.product_name as description, TO_CHAR(o.order_date, 'YYYY-MM-DD') as date, 'PURCHASE' as type FROM orders o JOIN order_items oi ON o.order_id = oi.order_id JOIN products p ON oi.product_id = p.product_id WHERE o.user_id = ?) UNION (SELECT 'Reviewed ' || p.product_name as description, TO_CHAR(r.created_at, 'YYYY-MM-DD') as date, 'REVIEW' as type FROM reviews r JOIN products p ON r.product_id = p.product_id WHERE r.user_id = ?) ORDER BY date DESC LIMIT 5]
2026-01-28 08:22:20.554 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2026-01-28 08:22:20.554 [http-nio-8080-exec-6] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:20.554 [http-nio-8080-exec-6] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 2, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:20.558 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:22:20.558] EXITING: AnalyticsServiceImpl.getUserAnalytics returned: UserAnalyticsResponse
2026-01-28 08:22:20.558 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint AnalyticsController.getUserAnalytics responded in 31ms
2026-01-28 08:22:20.558 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: AnalyticsController.getUserAnalytics returned: ResponseEntity
2026-01-28 08:22:20.575 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: AnalyticsController.getUserAnalytics with arguments: [3]
2026-01-28 08:22:20.583 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:22:20.583] ENTERING: AnalyticsServiceImpl.getUserAnalytics with arguments: [3]
2026-01-28 08:22:20.583 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:20.584 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT COUNT(*) FROM orders WHERE user_id = ?]
2026-01-28 08:22:20.584 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2026-01-28 08:22:20.584 [http-nio-8080-exec-9] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:20.589 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:20.589 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT SUM(total_amount) FROM orders WHERE user_id = ? AND status NOT IN ('cancelled')]
2026-01-28 08:22:20.590 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2026-01-28 08:22:20.590 [http-nio-8080-exec-9] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:20.591 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:20.591 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT SUM(quantity) FROM order_items oi JOIN orders o ON oi.order_id = o.order_id WHERE o.user_id = ? AND o.status NOT IN ('cancelled')]
2026-01-28 08:22:20.591 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2026-01-28 08:22:20.591 [http-nio-8080-exec-9] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:20.592 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:20.592 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT c.category_name, SUM(oi.subtotal) as spent FROM categories c JOIN products p ON c.category_id = p.category_id JOIN order_items oi ON p.product_id = oi.product_id JOIN orders o ON oi.order_id = o.order_id WHERE o.user_id = ? AND o.status NOT IN ('cancelled') GROUP BY c.category_name]
2026-01-28 08:22:20.592 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2026-01-28 08:22:20.592 [http-nio-8080-exec-9] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:20.603 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:20.603 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [(SELECT 'Purchased ' || p.product_name as description, TO_CHAR(o.order_date, 'YYYY-MM-DD') as date, 'PURCHASE' as type FROM orders o JOIN order_items oi ON o.order_id = oi.order_id JOIN products p ON oi.product_id = p.product_id WHERE o.user_id = ?) UNION (SELECT 'Reviewed ' || p.product_name as description, TO_CHAR(r.created_at, 'YYYY-MM-DD') as date, 'REVIEW' as type FROM reviews r JOIN products p ON r.product_id = p.product_id WHERE r.user_id = ?) ORDER BY date DESC LIMIT 5]
2026-01-28 08:22:20.603 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2026-01-28 08:22:20.603 [http-nio-8080-exec-9] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:20.603 [http-nio-8080-exec-9] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 2, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:20.606 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:22:20.606] EXITING: AnalyticsServiceImpl.getUserAnalytics returned: UserAnalyticsResponse
2026-01-28 08:22:20.607 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint AnalyticsController.getUserAnalytics responded in 32ms
2026-01-28 08:22:20.607 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: AnalyticsController.getUserAnalytics returned: ResponseEntity
2026-01-28 08:22:21.966 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - keepalive: connection org.postgresql.jdbc.PgConnection@3e73f5e7 is alive
2026-01-28 08:22:22.175 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: OrderController.getOrdersByUser with arguments: [3]
2026-01-28 08:22:22.178 [http-nio-8080-exec-10] DEBUG o.s.j.d.DataSourceTransactionManager - Creating new transaction with name [com.shopjoy.service.impl.OrderServiceImpl.getOrdersByUser]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-28 08:22:22.181 [http-nio-8080-exec-10] DEBUG o.s.j.d.DataSourceTransactionManager - Acquired Connection [HikariProxyConnection@1635641521 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7] for JDBC transaction
2026-01-28 08:22:22.181 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1635641521 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7] read-only
2026-01-28 08:22:22.181 [http-nio-8080-exec-10] DEBUG o.s.j.d.DataSourceTransactionManager - Switching JDBC Connection [HikariProxyConnection@1635641521 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7] to manual commit
2026-01-28 08:22:22.182 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:22:22.182] ENTERING: OrderServiceImpl.getOrdersByUser with arguments: [3]
2026-01-28 08:22:22.182 [http-nio-8080-exec-10] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.182 [http-nio-8080-exec-10] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:22.182 [http-nio-8080-exec-10] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM orders WHERE user_id = ? ORDER BY order_date DESC]
2026-01-28 08:22:22.183 [http-nio-8080-exec-10] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:22.185 [http-nio-8080-exec-10] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.185 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:22:22.185] ENTERING: UserServiceImpl.getUserById with arguments: [3]
2026-01-28 08:22:22.185 [http-nio-8080-exec-10] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.185 [http-nio-8080-exec-10] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:22.185 [http-nio-8080-exec-10] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT user_id, username, email, password_hash, first_name, last_name, 
        phone, user_type, created_at, updated_at
 FROM users WHERE user_id = ?
 ]
2026-01-28 08:22:22.186 [http-nio-8080-exec-10] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:22.190 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:22:22.190] EXITING: UserServiceImpl.getUserById returned: UserResponse
2026-01-28 08:22:22.190 [http-nio-8080-exec-10] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.190 [http-nio-8080-exec-10] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:22.191 [http-nio-8080-exec-10] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM order_items WHERE order_id = ?]
2026-01-28 08:22:22.191 [http-nio-8080-exec-10] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [8], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:22.192 [http-nio-8080-exec-10] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.193 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:22:22.193] ENTERING: ProductServiceImpl.getProductById with arguments: [41]
2026-01-28 08:22:22.193 [http-nio-8080-exec-10] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.193 [http-nio-8080-exec-10] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:22.193 [http-nio-8080-exec-10] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:22:22.193 [http-nio-8080-exec-10] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:22.195 [http-nio-8080-exec-10] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.195 [http-nio-8080-exec-10] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:22.195 [http-nio-8080-exec-10] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:22:22.195 [http-nio-8080-exec-10] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:22.197 [http-nio-8080-exec-10] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.198 [http-nio-8080-exec-10] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:22.199 [http-nio-8080-exec-10] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:22:22.199 [http-nio-8080-exec-10] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:22.200 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:22:22.200] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:22:22.200 [http-nio-8080-exec-10] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.200 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:22:22.200] ENTERING: UserServiceImpl.getUserById with arguments: [3]
2026-01-28 08:22:22.200 [http-nio-8080-exec-10] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.200 [http-nio-8080-exec-10] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:22.200 [http-nio-8080-exec-10] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT user_id, username, email, password_hash, first_name, last_name, 
        phone, user_type, created_at, updated_at
 FROM users WHERE user_id = ?
 ]
2026-01-28 08:22:22.200 [http-nio-8080-exec-10] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:22.201 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:22:22.201] EXITING: UserServiceImpl.getUserById returned: UserResponse
2026-01-28 08:22:22.202 [http-nio-8080-exec-10] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.202 [http-nio-8080-exec-10] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:22.202 [http-nio-8080-exec-10] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM order_items WHERE order_id = ?]
2026-01-28 08:22:22.202 [http-nio-8080-exec-10] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [7], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:22.210 [http-nio-8080-exec-10] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.210 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:22:22.210] ENTERING: ProductServiceImpl.getProductById with arguments: [4]
2026-01-28 08:22:22.211 [http-nio-8080-exec-10] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.211 [http-nio-8080-exec-10] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:22.211 [http-nio-8080-exec-10] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:22:22.211 [http-nio-8080-exec-10] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [4], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:22.214 [http-nio-8080-exec-10] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.214 [http-nio-8080-exec-10] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:22.214 [http-nio-8080-exec-10] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:22:22.214 [http-nio-8080-exec-10] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [11], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:22.228 [http-nio-8080-exec-10] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.228 [http-nio-8080-exec-10] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:22.228 [http-nio-8080-exec-10] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:22:22.228 [http-nio-8080-exec-10] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [4], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:22.236 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:22:22.236] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:22:22.236 [http-nio-8080-exec-10] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.237 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:22:22.237] ENTERING: UserServiceImpl.getUserById with arguments: [3]
2026-01-28 08:22:22.237 [http-nio-8080-exec-10] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.237 [http-nio-8080-exec-10] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:22.237 [http-nio-8080-exec-10] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT user_id, username, email, password_hash, first_name, last_name, 
        phone, user_type, created_at, updated_at
 FROM users WHERE user_id = ?
 ]
2026-01-28 08:22:22.237 [http-nio-8080-exec-10] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:22.242 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:22:22.242] EXITING: UserServiceImpl.getUserById returned: UserResponse
2026-01-28 08:22:22.242 [http-nio-8080-exec-10] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.242 [http-nio-8080-exec-10] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:22.242 [http-nio-8080-exec-10] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM order_items WHERE order_id = ?]
2026-01-28 08:22:22.242 [http-nio-8080-exec-10] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [6], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:22.244 [http-nio-8080-exec-10] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.244 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:22:22.244] ENTERING: ProductServiceImpl.getProductById with arguments: [85]
2026-01-28 08:22:22.244 [http-nio-8080-exec-10] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.244 [http-nio-8080-exec-10] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:22.244 [http-nio-8080-exec-10] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:22:22.245 [http-nio-8080-exec-10] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [85], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:22.249 [http-nio-8080-exec-10] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.250 [http-nio-8080-exec-10] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:22.250 [http-nio-8080-exec-10] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:22:22.250 [http-nio-8080-exec-10] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [10], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:22.251 [http-nio-8080-exec-10] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.251 [http-nio-8080-exec-10] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:22.251 [http-nio-8080-exec-10] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:22:22.251 [http-nio-8080-exec-10] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [85], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:22.252 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:22:22.252] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:22:22.253 [http-nio-8080-exec-10] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.253 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:22:22.253] ENTERING: UserServiceImpl.getUserById with arguments: [3]
2026-01-28 08:22:22.253 [http-nio-8080-exec-10] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.253 [http-nio-8080-exec-10] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:22.253 [http-nio-8080-exec-10] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT user_id, username, email, password_hash, first_name, last_name, 
        phone, user_type, created_at, updated_at
 FROM users WHERE user_id = ?
 ]
2026-01-28 08:22:22.253 [http-nio-8080-exec-10] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:22.254 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:22:22.254] EXITING: UserServiceImpl.getUserById returned: UserResponse
2026-01-28 08:22:22.254 [http-nio-8080-exec-10] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.255 [http-nio-8080-exec-10] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:22.255 [http-nio-8080-exec-10] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM order_items WHERE order_id = ?]
2026-01-28 08:22:22.255 [http-nio-8080-exec-10] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [5], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:22.256 [http-nio-8080-exec-10] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.256 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:22:22.256] ENTERING: ProductServiceImpl.getProductById with arguments: [41]
2026-01-28 08:22:22.256 [http-nio-8080-exec-10] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.257 [http-nio-8080-exec-10] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:22.257 [http-nio-8080-exec-10] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:22:22.257 [http-nio-8080-exec-10] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:22.258 [http-nio-8080-exec-10] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.258 [http-nio-8080-exec-10] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:22.258 [http-nio-8080-exec-10] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:22:22.258 [http-nio-8080-exec-10] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:22.259 [http-nio-8080-exec-10] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.259 [http-nio-8080-exec-10] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:22.260 [http-nio-8080-exec-10] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:22:22.260 [http-nio-8080-exec-10] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:22.262 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:22:22.262] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:22:22.262 [http-nio-8080-exec-10] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.262 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:22:22.262] ENTERING: UserServiceImpl.getUserById with arguments: [3]
2026-01-28 08:22:22.263 [http-nio-8080-exec-10] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.263 [http-nio-8080-exec-10] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:22.263 [http-nio-8080-exec-10] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT user_id, username, email, password_hash, first_name, last_name, 
        phone, user_type, created_at, updated_at
 FROM users WHERE user_id = ?
 ]
2026-01-28 08:22:22.263 [http-nio-8080-exec-10] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:22.264 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:22:22.264] EXITING: UserServiceImpl.getUserById returned: UserResponse
2026-01-28 08:22:22.264 [http-nio-8080-exec-10] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.264 [http-nio-8080-exec-10] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:22.264 [http-nio-8080-exec-10] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM order_items WHERE order_id = ?]
2026-01-28 08:22:22.264 [http-nio-8080-exec-10] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [4], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:22.266 [http-nio-8080-exec-10] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.267 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:22:22.267] ENTERING: ProductServiceImpl.getProductById with arguments: [18]
2026-01-28 08:22:22.267 [http-nio-8080-exec-10] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.267 [http-nio-8080-exec-10] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:22.267 [http-nio-8080-exec-10] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:22:22.267 [http-nio-8080-exec-10] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [18], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:22.268 [http-nio-8080-exec-10] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.268 [http-nio-8080-exec-10] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:22.268 [http-nio-8080-exec-10] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:22:22.268 [http-nio-8080-exec-10] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [15], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:22.270 [http-nio-8080-exec-10] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.270 [http-nio-8080-exec-10] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:22.270 [http-nio-8080-exec-10] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:22:22.270 [http-nio-8080-exec-10] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [18], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:22.271 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:22:22.271] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:22:22.271 [http-nio-8080-exec-10] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.271 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:22:22.271] ENTERING: ProductServiceImpl.getProductById with arguments: [41]
2026-01-28 08:22:22.271 [http-nio-8080-exec-10] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.271 [http-nio-8080-exec-10] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:22.271 [http-nio-8080-exec-10] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:22:22.272 [http-nio-8080-exec-10] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:22.273 [http-nio-8080-exec-10] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.273 [http-nio-8080-exec-10] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:22.274 [http-nio-8080-exec-10] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:22:22.274 [http-nio-8080-exec-10] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:22.275 [http-nio-8080-exec-10] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.275 [http-nio-8080-exec-10] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:22.275 [http-nio-8080-exec-10] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:22:22.275 [http-nio-8080-exec-10] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:22.276 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:22:22.276] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:22:22.276 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:22:22.276] EXITING: OrderServiceImpl.getOrdersByUser returned: ArrayList
2026-01-28 08:22:22.277 [http-nio-8080-exec-10] DEBUG o.s.j.d.DataSourceTransactionManager - Initiating transaction commit
2026-01-28 08:22:22.277 [http-nio-8080-exec-10] DEBUG o.s.j.d.DataSourceTransactionManager - Committing JDBC transaction on Connection [HikariProxyConnection@1635641521 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7]
2026-01-28 08:22:22.280 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1635641521 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7]
2026-01-28 08:22:22.280 [http-nio-8080-exec-10] DEBUG o.s.j.d.DataSourceTransactionManager - Releasing JDBC Connection [HikariProxyConnection@1635641521 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7] after transaction
2026-01-28 08:22:22.280 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint OrderController.getOrdersByUser responded in 102ms
2026-01-28 08:22:22.280 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: OrderController.getOrdersByUser returned: ResponseEntity
2026-01-28 08:22:22.290 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: OrderController.getOrdersByUser with arguments: [3]
2026-01-28 08:22:22.291 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Creating new transaction with name [com.shopjoy.service.impl.OrderServiceImpl.getOrdersByUser]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-28 08:22:22.291 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Acquired Connection [HikariProxyConnection@873902297 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7] for JDBC transaction
2026-01-28 08:22:22.291 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@873902297 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7] read-only
2026-01-28 08:22:22.291 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Switching JDBC Connection [HikariProxyConnection@873902297 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7] to manual commit
2026-01-28 08:22:22.291 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:22:22.291] ENTERING: OrderServiceImpl.getOrdersByUser with arguments: [3]
2026-01-28 08:22:22.291 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.291 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:22.291 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM orders WHERE user_id = ? ORDER BY order_date DESC]
2026-01-28 08:22:22.291 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:22.295 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.296 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:22:22.296] ENTERING: UserServiceImpl.getUserById with arguments: [3]
2026-01-28 08:22:22.296 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.297 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:22.297 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT user_id, username, email, password_hash, first_name, last_name, 
        phone, user_type, created_at, updated_at
 FROM users WHERE user_id = ?
 ]
2026-01-28 08:22:22.297 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:22.298 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:22:22.298] EXITING: UserServiceImpl.getUserById returned: UserResponse
2026-01-28 08:22:22.298 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.298 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:22.298 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM order_items WHERE order_id = ?]
2026-01-28 08:22:22.298 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [8], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:22.300 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.300 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:22:22.300] ENTERING: ProductServiceImpl.getProductById with arguments: [41]
2026-01-28 08:22:22.300 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.300 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:22.300 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:22:22.300 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:22.302 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.302 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:22.302 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:22:22.302 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:22.304 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.304 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:22.304 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:22:22.304 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:22.307 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:22:22.307] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:22:22.307 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.307 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:22:22.307] ENTERING: UserServiceImpl.getUserById with arguments: [3]
2026-01-28 08:22:22.307 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.307 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:22.307 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT user_id, username, email, password_hash, first_name, last_name, 
        phone, user_type, created_at, updated_at
 FROM users WHERE user_id = ?
 ]
2026-01-28 08:22:22.308 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:22.329 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:22:22.329] EXITING: UserServiceImpl.getUserById returned: UserResponse
2026-01-28 08:22:22.329 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.332 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:22.332 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM order_items WHERE order_id = ?]
2026-01-28 08:22:22.332 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [7], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:22.333 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.334 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:22:22.334] ENTERING: ProductServiceImpl.getProductById with arguments: [4]
2026-01-28 08:22:22.334 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.334 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:22.334 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:22:22.334 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [4], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:22.335 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.336 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:22.336 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:22:22.336 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [11], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:22.336 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.337 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:22.337 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:22:22.337 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [4], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:22.338 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:22:22.338] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:22:22.339 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.339 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:22:22.339] ENTERING: UserServiceImpl.getUserById with arguments: [3]
2026-01-28 08:22:22.339 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.339 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:22.339 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT user_id, username, email, password_hash, first_name, last_name, 
        phone, user_type, created_at, updated_at
 FROM users WHERE user_id = ?
 ]
2026-01-28 08:22:22.339 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:22.341 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:22:22.341] EXITING: UserServiceImpl.getUserById returned: UserResponse
2026-01-28 08:22:22.341 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.341 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:22.341 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM order_items WHERE order_id = ?]
2026-01-28 08:22:22.341 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [6], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:22.342 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.343 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:22:22.343] ENTERING: ProductServiceImpl.getProductById with arguments: [85]
2026-01-28 08:22:22.343 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.343 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:22.343 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:22:22.343 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [85], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:22.346 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.346 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:22.346 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:22:22.346 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [10], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:22.347 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.347 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:22.347 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:22:22.348 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [85], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:22.349 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:22:22.349] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:22:22.350 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.351 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:22:22.351] ENTERING: UserServiceImpl.getUserById with arguments: [3]
2026-01-28 08:22:22.351 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.351 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:22.352 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT user_id, username, email, password_hash, first_name, last_name, 
        phone, user_type, created_at, updated_at
 FROM users WHERE user_id = ?
 ]
2026-01-28 08:22:22.352 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:22.353 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:22:22.353] EXITING: UserServiceImpl.getUserById returned: UserResponse
2026-01-28 08:22:22.354 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.354 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:22.354 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM order_items WHERE order_id = ?]
2026-01-28 08:22:22.354 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [5], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:22.358 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.358 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:22:22.358] ENTERING: ProductServiceImpl.getProductById with arguments: [41]
2026-01-28 08:22:22.359 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.359 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:22.359 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:22:22.359 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:22.360 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.360 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:22.361 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:22:22.361 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:22.362 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.362 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:22.362 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:22:22.362 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:22.364 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:22:22.364] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:22:22.364 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.364 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:22:22.364] ENTERING: UserServiceImpl.getUserById with arguments: [3]
2026-01-28 08:22:22.364 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.364 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:22.364 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT user_id, username, email, password_hash, first_name, last_name, 
        phone, user_type, created_at, updated_at
 FROM users WHERE user_id = ?
 ]
2026-01-28 08:22:22.365 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:22.366 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:22:22.366] EXITING: UserServiceImpl.getUserById returned: UserResponse
2026-01-28 08:22:22.366 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.366 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:22.366 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM order_items WHERE order_id = ?]
2026-01-28 08:22:22.366 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [4], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:22.367 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.367 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:22:22.367] ENTERING: ProductServiceImpl.getProductById with arguments: [18]
2026-01-28 08:22:22.368 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.368 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:22.368 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:22:22.368 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [18], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:22.369 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.369 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:22.369 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:22:22.370 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [15], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:22.370 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.370 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:22.370 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:22:22.371 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [18], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:22.372 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:22:22.372] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:22:22.372 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.372 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:22:22.372] ENTERING: ProductServiceImpl.getProductById with arguments: [41]
2026-01-28 08:22:22.372 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.372 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:22.372 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:22:22.372 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:22.374 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.374 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:22.374 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:22:22.374 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:22.375 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:22:22.375 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:22:22.375 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:22:22.375 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:22:22.377 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:22:22.377] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:22:22.377 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:22:22.377] EXITING: OrderServiceImpl.getOrdersByUser returned: ArrayList
2026-01-28 08:22:22.377 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Initiating transaction commit
2026-01-28 08:22:22.377 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Committing JDBC transaction on Connection [HikariProxyConnection@873902297 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7]
2026-01-28 08:22:22.378 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@873902297 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7]
2026-01-28 08:22:22.378 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Releasing JDBC Connection [HikariProxyConnection@873902297 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7] after transaction
2026-01-28 08:22:22.378 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint OrderController.getOrdersByUser responded in 87ms
2026-01-28 08:22:22.378 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: OrderController.getOrdersByUser returned: ResponseEntity
2026-01-28 08:22:26.627 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:22:26.627 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:22:26.627 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:22:56.628 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:22:56.628 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:22:56.628 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:23:26.629 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:23:26.629 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:23:26.629 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:23:56.629 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:23:56.629 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:23:56.629 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:24:06.111 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - keepalive: connection org.postgresql.jdbc.PgConnection@5eb1c6b is alive
2026-01-28 08:24:17.415 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - keepalive: connection org.postgresql.jdbc.PgConnection@3e73f5e7 is alive
2026-01-28 08:24:26.630 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:24:26.630 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:24:26.630 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:24:56.631 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:24:56.631 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:24:56.631 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:25:26.632 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:25:26.632 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:25:26.632 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:25:55.720 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - keepalive: connection org.postgresql.jdbc.PgConnection@5eb1c6b is alive
2026-01-28 08:25:56.632 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:25:56.632 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:25:56.632 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:26:03.531 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: AnalyticsController.getUserAnalytics with arguments: [3]
2026-01-28 08:26:03.534 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:26:03.532] ENTERING: AnalyticsServiceImpl.getUserAnalytics with arguments: [3]
2026-01-28 08:26:03.544 [http-nio-8080-exec-7] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:03.544 [http-nio-8080-exec-7] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT COUNT(*) FROM orders WHERE user_id = ?]
2026-01-28 08:26:03.544 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2026-01-28 08:26:03.546 [http-nio-8080-exec-7] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:03.548 [http-nio-8080-exec-7] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:03.548 [http-nio-8080-exec-7] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT SUM(total_amount) FROM orders WHERE user_id = ? AND status NOT IN ('cancelled')]
2026-01-28 08:26:03.548 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2026-01-28 08:26:03.548 [http-nio-8080-exec-7] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:03.550 [http-nio-8080-exec-7] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:03.550 [http-nio-8080-exec-7] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT SUM(quantity) FROM order_items oi JOIN orders o ON oi.order_id = o.order_id WHERE o.user_id = ? AND o.status NOT IN ('cancelled')]
2026-01-28 08:26:03.550 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2026-01-28 08:26:03.550 [http-nio-8080-exec-7] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:03.552 [http-nio-8080-exec-7] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:03.552 [http-nio-8080-exec-7] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT c.category_name, SUM(oi.subtotal) as spent FROM categories c JOIN products p ON c.category_id = p.category_id JOIN order_items oi ON p.product_id = oi.product_id JOIN orders o ON oi.order_id = o.order_id WHERE o.user_id = ? AND o.status NOT IN ('cancelled') GROUP BY c.category_name]
2026-01-28 08:26:03.552 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2026-01-28 08:26:03.555 [http-nio-8080-exec-7] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:03.558 [http-nio-8080-exec-7] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:03.559 [http-nio-8080-exec-7] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [(SELECT 'Purchased ' || p.product_name as description, TO_CHAR(o.order_date, 'YYYY-MM-DD') as date, 'PURCHASE' as type FROM orders o JOIN order_items oi ON o.order_id = oi.order_id JOIN products p ON oi.product_id = p.product_id WHERE o.user_id = ?) UNION (SELECT 'Reviewed ' || p.product_name as description, TO_CHAR(r.created_at, 'YYYY-MM-DD') as date, 'REVIEW' as type FROM reviews r JOIN products p ON r.product_id = p.product_id WHERE r.user_id = ?) ORDER BY date DESC LIMIT 5]
2026-01-28 08:26:03.559 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2026-01-28 08:26:03.559 [http-nio-8080-exec-7] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:03.559 [http-nio-8080-exec-7] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 2, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:03.563 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:26:03.563] EXITING: AnalyticsServiceImpl.getUserAnalytics returned: UserAnalyticsResponse
2026-01-28 08:26:03.563 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint AnalyticsController.getUserAnalytics responded in 31ms
2026-01-28 08:26:03.563 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: AnalyticsController.getUserAnalytics returned: ResponseEntity
2026-01-28 08:26:03.590 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: AnalyticsController.getUserAnalytics with arguments: [3]
2026-01-28 08:26:03.590 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:26:03.590] ENTERING: AnalyticsServiceImpl.getUserAnalytics with arguments: [3]
2026-01-28 08:26:03.590 [http-nio-8080-exec-7] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:03.590 [http-nio-8080-exec-7] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT COUNT(*) FROM orders WHERE user_id = ?]
2026-01-28 08:26:03.590 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2026-01-28 08:26:03.590 [http-nio-8080-exec-7] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:03.591 [http-nio-8080-exec-7] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:03.592 [http-nio-8080-exec-7] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT SUM(total_amount) FROM orders WHERE user_id = ? AND status NOT IN ('cancelled')]
2026-01-28 08:26:03.592 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2026-01-28 08:26:03.592 [http-nio-8080-exec-7] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:03.594 [http-nio-8080-exec-7] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:03.594 [http-nio-8080-exec-7] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT SUM(quantity) FROM order_items oi JOIN orders o ON oi.order_id = o.order_id WHERE o.user_id = ? AND o.status NOT IN ('cancelled')]
2026-01-28 08:26:03.594 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2026-01-28 08:26:03.594 [http-nio-8080-exec-7] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:03.598 [http-nio-8080-exec-7] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:03.598 [http-nio-8080-exec-7] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT c.category_name, SUM(oi.subtotal) as spent FROM categories c JOIN products p ON c.category_id = p.category_id JOIN order_items oi ON p.product_id = oi.product_id JOIN orders o ON oi.order_id = o.order_id WHERE o.user_id = ? AND o.status NOT IN ('cancelled') GROUP BY c.category_name]
2026-01-28 08:26:03.598 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2026-01-28 08:26:03.598 [http-nio-8080-exec-7] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:03.601 [http-nio-8080-exec-7] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:03.601 [http-nio-8080-exec-7] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [(SELECT 'Purchased ' || p.product_name as description, TO_CHAR(o.order_date, 'YYYY-MM-DD') as date, 'PURCHASE' as type FROM orders o JOIN order_items oi ON o.order_id = oi.order_id JOIN products p ON oi.product_id = p.product_id WHERE o.user_id = ?) UNION (SELECT 'Reviewed ' || p.product_name as description, TO_CHAR(r.created_at, 'YYYY-MM-DD') as date, 'REVIEW' as type FROM reviews r JOIN products p ON r.product_id = p.product_id WHERE r.user_id = ?) ORDER BY date DESC LIMIT 5]
2026-01-28 08:26:03.602 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2026-01-28 08:26:03.602 [http-nio-8080-exec-7] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:03.602 [http-nio-8080-exec-7] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 2, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:03.606 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:26:03.606] EXITING: AnalyticsServiceImpl.getUserAnalytics returned: UserAnalyticsResponse
2026-01-28 08:26:03.606 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint AnalyticsController.getUserAnalytics responded in 16ms
2026-01-28 08:26:03.606 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: AnalyticsController.getUserAnalytics returned: ResponseEntity
2026-01-28 08:26:06.791 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: AddressController.getAddressesByUser with arguments: [3]
2026-01-28 08:26:06.792 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Creating new transaction with name [com.shopjoy.service.impl.AddressServiceImpl.getAddressesByUser]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-28 08:26:06.792 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Acquired Connection [HikariProxyConnection@1059555417 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7] for JDBC transaction
2026-01-28 08:26:06.792 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1059555417 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7] read-only
2026-01-28 08:26:06.793 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Switching JDBC Connection [HikariProxyConnection@1059555417 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7] to manual commit
2026-01-28 08:26:06.793 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:26:06.793] ENTERING: AddressServiceImpl.getAddressesByUser with arguments: [3]
2026-01-28 08:26:06.793 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:06.793 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:06.793 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM addresses WHERE user_id = ? ORDER BY is_default DESC, created_at DESC]
2026-01-28 08:26:06.794 [http-nio-8080-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:06.804 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:26:06.804] EXITING: AddressServiceImpl.getAddressesByUser returned: ArrayList
2026-01-28 08:26:06.804 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Initiating transaction commit
2026-01-28 08:26:06.804 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Committing JDBC transaction on Connection [HikariProxyConnection@1059555417 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7]
2026-01-28 08:26:06.804 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1059555417 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7]
2026-01-28 08:26:06.804 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Releasing JDBC Connection [HikariProxyConnection@1059555417 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7] after transaction
2026-01-28 08:26:06.805 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint AddressController.getAddressesByUser responded in 13ms
2026-01-28 08:26:06.805 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: AddressController.getAddressesByUser returned: ResponseEntity
2026-01-28 08:26:06.812 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: AddressController.getAddressesByUser with arguments: [3]
2026-01-28 08:26:06.813 [http-nio-8080-exec-5] DEBUG o.s.j.d.DataSourceTransactionManager - Creating new transaction with name [com.shopjoy.service.impl.AddressServiceImpl.getAddressesByUser]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-28 08:26:06.813 [http-nio-8080-exec-5] DEBUG o.s.j.d.DataSourceTransactionManager - Acquired Connection [HikariProxyConnection@50978738 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7] for JDBC transaction
2026-01-28 08:26:06.813 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@50978738 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7] read-only
2026-01-28 08:26:06.813 [http-nio-8080-exec-5] DEBUG o.s.j.d.DataSourceTransactionManager - Switching JDBC Connection [HikariProxyConnection@50978738 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7] to manual commit
2026-01-28 08:26:06.813 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:26:06.813] ENTERING: AddressServiceImpl.getAddressesByUser with arguments: [3]
2026-01-28 08:26:06.813 [http-nio-8080-exec-5] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:06.814 [http-nio-8080-exec-5] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:06.814 [http-nio-8080-exec-5] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM addresses WHERE user_id = ? ORDER BY is_default DESC, created_at DESC]
2026-01-28 08:26:06.814 [http-nio-8080-exec-5] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:06.815 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:26:06.815] EXITING: AddressServiceImpl.getAddressesByUser returned: ArrayList
2026-01-28 08:26:06.815 [http-nio-8080-exec-5] DEBUG o.s.j.d.DataSourceTransactionManager - Initiating transaction commit
2026-01-28 08:26:06.815 [http-nio-8080-exec-5] DEBUG o.s.j.d.DataSourceTransactionManager - Committing JDBC transaction on Connection [HikariProxyConnection@50978738 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7]
2026-01-28 08:26:06.816 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@50978738 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7]
2026-01-28 08:26:06.816 [http-nio-8080-exec-5] DEBUG o.s.j.d.DataSourceTransactionManager - Releasing JDBC Connection [HikariProxyConnection@50978738 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7] after transaction
2026-01-28 08:26:06.816 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint AddressController.getAddressesByUser responded in 4ms
2026-01-28 08:26:06.816 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: AddressController.getAddressesByUser returned: ResponseEntity
2026-01-28 08:26:07.959 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: OrderController.getOrdersByUser with arguments: [3]
2026-01-28 08:26:07.959 [http-nio-8080-exec-6] DEBUG o.s.j.d.DataSourceTransactionManager - Creating new transaction with name [com.shopjoy.service.impl.OrderServiceImpl.getOrdersByUser]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-28 08:26:07.960 [http-nio-8080-exec-6] DEBUG o.s.j.d.DataSourceTransactionManager - Acquired Connection [HikariProxyConnection@1392925766 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7] for JDBC transaction
2026-01-28 08:26:07.960 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1392925766 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7] read-only
2026-01-28 08:26:07.960 [http-nio-8080-exec-6] DEBUG o.s.j.d.DataSourceTransactionManager - Switching JDBC Connection [HikariProxyConnection@1392925766 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7] to manual commit
2026-01-28 08:26:07.961 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:26:07.961] ENTERING: OrderServiceImpl.getOrdersByUser with arguments: [3]
2026-01-28 08:26:07.961 [http-nio-8080-exec-6] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:07.961 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:07.961 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM orders WHERE user_id = ? ORDER BY order_date DESC]
2026-01-28 08:26:07.961 [http-nio-8080-exec-6] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:07.962 [http-nio-8080-exec-6] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:07.962 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:26:07.962] ENTERING: UserServiceImpl.getUserById with arguments: [3]
2026-01-28 08:26:07.962 [http-nio-8080-exec-6] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:07.962 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:07.962 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT user_id, username, email, password_hash, first_name, last_name, 
        phone, user_type, created_at, updated_at
 FROM users WHERE user_id = ?
 ]
2026-01-28 08:26:07.962 [http-nio-8080-exec-6] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:07.964 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:26:07.964] EXITING: UserServiceImpl.getUserById returned: UserResponse
2026-01-28 08:26:07.964 [http-nio-8080-exec-6] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:07.964 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:07.964 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM order_items WHERE order_id = ?]
2026-01-28 08:26:07.964 [http-nio-8080-exec-6] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [8], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:07.966 [http-nio-8080-exec-6] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:07.966 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:26:07.966] ENTERING: ProductServiceImpl.getProductById with arguments: [41]
2026-01-28 08:26:07.966 [http-nio-8080-exec-6] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:07.967 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:07.967 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:26:07.967 [http-nio-8080-exec-6] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:07.968 [http-nio-8080-exec-6] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:07.968 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:07.968 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:26:07.968 [http-nio-8080-exec-6] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:07.970 [http-nio-8080-exec-6] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:07.970 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:07.970 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:26:07.970 [http-nio-8080-exec-6] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:07.970 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:26:07.970] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:26:07.971 [http-nio-8080-exec-6] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:07.971 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:26:07.971] ENTERING: UserServiceImpl.getUserById with arguments: [3]
2026-01-28 08:26:07.971 [http-nio-8080-exec-6] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:07.971 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:07.971 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT user_id, username, email, password_hash, first_name, last_name, 
        phone, user_type, created_at, updated_at
 FROM users WHERE user_id = ?
 ]
2026-01-28 08:26:07.971 [http-nio-8080-exec-6] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:07.972 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:26:07.972] EXITING: UserServiceImpl.getUserById returned: UserResponse
2026-01-28 08:26:07.972 [http-nio-8080-exec-6] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:07.972 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:07.972 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM order_items WHERE order_id = ?]
2026-01-28 08:26:07.973 [http-nio-8080-exec-6] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [7], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:07.973 [http-nio-8080-exec-6] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:07.973 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:26:07.973] ENTERING: ProductServiceImpl.getProductById with arguments: [4]
2026-01-28 08:26:07.973 [http-nio-8080-exec-6] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:07.973 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:07.974 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:26:07.974 [http-nio-8080-exec-6] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [4], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:07.975 [http-nio-8080-exec-6] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:07.975 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:07.975 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:26:07.975 [http-nio-8080-exec-6] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [11], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:07.976 [http-nio-8080-exec-6] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:07.976 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:07.976 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:26:07.976 [http-nio-8080-exec-6] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [4], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:07.976 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:26:07.976] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:26:07.977 [http-nio-8080-exec-6] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:07.977 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:26:07.977] ENTERING: UserServiceImpl.getUserById with arguments: [3]
2026-01-28 08:26:07.977 [http-nio-8080-exec-6] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:07.977 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:07.977 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT user_id, username, email, password_hash, first_name, last_name, 
        phone, user_type, created_at, updated_at
 FROM users WHERE user_id = ?
 ]
2026-01-28 08:26:07.977 [http-nio-8080-exec-6] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:07.978 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:26:07.978] EXITING: UserServiceImpl.getUserById returned: UserResponse
2026-01-28 08:26:07.978 [http-nio-8080-exec-6] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:07.978 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:07.978 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM order_items WHERE order_id = ?]
2026-01-28 08:26:07.978 [http-nio-8080-exec-6] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [6], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:07.980 [http-nio-8080-exec-6] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:07.980 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:26:07.980] ENTERING: ProductServiceImpl.getProductById with arguments: [85]
2026-01-28 08:26:07.980 [http-nio-8080-exec-6] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:07.980 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:07.980 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:26:07.980 [http-nio-8080-exec-6] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [85], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:07.982 [http-nio-8080-exec-6] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:07.982 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:07.982 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:26:07.982 [http-nio-8080-exec-6] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [10], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:07.984 [http-nio-8080-exec-6] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:07.984 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:07.984 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:26:07.984 [http-nio-8080-exec-6] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [85], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:07.985 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:26:07.985] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:26:07.985 [http-nio-8080-exec-6] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:07.985 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:26:07.985] ENTERING: UserServiceImpl.getUserById with arguments: [3]
2026-01-28 08:26:07.985 [http-nio-8080-exec-6] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:07.985 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:07.985 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT user_id, username, email, password_hash, first_name, last_name, 
        phone, user_type, created_at, updated_at
 FROM users WHERE user_id = ?
 ]
2026-01-28 08:26:07.985 [http-nio-8080-exec-6] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:07.986 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:26:07.986] EXITING: UserServiceImpl.getUserById returned: UserResponse
2026-01-28 08:26:07.986 [http-nio-8080-exec-6] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:07.986 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:07.986 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM order_items WHERE order_id = ?]
2026-01-28 08:26:07.986 [http-nio-8080-exec-6] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [5], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:07.988 [http-nio-8080-exec-6] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:07.988 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:26:07.988] ENTERING: ProductServiceImpl.getProductById with arguments: [41]
2026-01-28 08:26:07.988 [http-nio-8080-exec-6] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:07.988 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:07.988 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:26:07.988 [http-nio-8080-exec-6] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:07.989 [http-nio-8080-exec-6] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:07.989 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:07.989 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:26:07.989 [http-nio-8080-exec-6] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:07.989 [http-nio-8080-exec-6] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:07.990 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:07.990 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:26:07.990 [http-nio-8080-exec-6] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:07.991 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:26:07.991] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:26:07.991 [http-nio-8080-exec-6] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:07.991 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:26:07.991] ENTERING: UserServiceImpl.getUserById with arguments: [3]
2026-01-28 08:26:07.991 [http-nio-8080-exec-6] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:07.991 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:07.991 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT user_id, username, email, password_hash, first_name, last_name, 
        phone, user_type, created_at, updated_at
 FROM users WHERE user_id = ?
 ]
2026-01-28 08:26:07.991 [http-nio-8080-exec-6] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:07.992 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:26:07.992] EXITING: UserServiceImpl.getUserById returned: UserResponse
2026-01-28 08:26:07.992 [http-nio-8080-exec-6] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:07.992 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:07.992 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM order_items WHERE order_id = ?]
2026-01-28 08:26:07.992 [http-nio-8080-exec-6] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [4], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:07.993 [http-nio-8080-exec-6] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:07.993 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:26:07.993] ENTERING: ProductServiceImpl.getProductById with arguments: [18]
2026-01-28 08:26:07.994 [http-nio-8080-exec-6] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:07.994 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:07.994 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:26:07.994 [http-nio-8080-exec-6] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [18], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:07.994 [http-nio-8080-exec-6] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:07.995 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:07.995 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:26:07.995 [http-nio-8080-exec-6] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [15], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:07.995 [http-nio-8080-exec-6] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:07.995 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:07.996 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:26:07.996 [http-nio-8080-exec-6] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [18], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:07.997 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:26:07.997] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:26:07.997 [http-nio-8080-exec-6] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:07.997 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:26:07.997] ENTERING: ProductServiceImpl.getProductById with arguments: [41]
2026-01-28 08:26:07.997 [http-nio-8080-exec-6] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:07.997 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:07.997 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:26:07.997 [http-nio-8080-exec-6] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:08.000 [http-nio-8080-exec-6] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:08.000 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:08.000 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:26:08.000 [http-nio-8080-exec-6] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:08.001 [http-nio-8080-exec-6] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:08.001 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:08.001 [http-nio-8080-exec-6] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:26:08.001 [http-nio-8080-exec-6] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:08.002 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:26:08.002] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:26:08.002 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:26:08.002] EXITING: OrderServiceImpl.getOrdersByUser returned: ArrayList
2026-01-28 08:26:08.002 [http-nio-8080-exec-6] DEBUG o.s.j.d.DataSourceTransactionManager - Initiating transaction commit
2026-01-28 08:26:08.002 [http-nio-8080-exec-6] DEBUG o.s.j.d.DataSourceTransactionManager - Committing JDBC transaction on Connection [HikariProxyConnection@1392925766 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7]
2026-01-28 08:26:08.003 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1392925766 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7]
2026-01-28 08:26:08.003 [http-nio-8080-exec-6] DEBUG o.s.j.d.DataSourceTransactionManager - Releasing JDBC Connection [HikariProxyConnection@1392925766 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7] after transaction
2026-01-28 08:26:08.003 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint OrderController.getOrdersByUser responded in 44ms
2026-01-28 08:26:08.003 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: OrderController.getOrdersByUser returned: ResponseEntity
2026-01-28 08:26:08.010 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: OrderController.getOrdersByUser with arguments: [3]
2026-01-28 08:26:08.010 [http-nio-8080-exec-9] DEBUG o.s.j.d.DataSourceTransactionManager - Creating new transaction with name [com.shopjoy.service.impl.OrderServiceImpl.getOrdersByUser]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-28 08:26:08.010 [http-nio-8080-exec-9] DEBUG o.s.j.d.DataSourceTransactionManager - Acquired Connection [HikariProxyConnection@26703316 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7] for JDBC transaction
2026-01-28 08:26:08.010 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@26703316 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7] read-only
2026-01-28 08:26:08.010 [http-nio-8080-exec-9] DEBUG o.s.j.d.DataSourceTransactionManager - Switching JDBC Connection [HikariProxyConnection@26703316 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7] to manual commit
2026-01-28 08:26:08.010 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:26:08.010] ENTERING: OrderServiceImpl.getOrdersByUser with arguments: [3]
2026-01-28 08:26:08.011 [http-nio-8080-exec-9] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:08.011 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:08.011 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM orders WHERE user_id = ? ORDER BY order_date DESC]
2026-01-28 08:26:08.011 [http-nio-8080-exec-9] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:08.013 [http-nio-8080-exec-9] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:08.013 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:26:08.013] ENTERING: UserServiceImpl.getUserById with arguments: [3]
2026-01-28 08:26:08.014 [http-nio-8080-exec-9] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:08.014 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:08.014 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT user_id, username, email, password_hash, first_name, last_name, 
        phone, user_type, created_at, updated_at
 FROM users WHERE user_id = ?
 ]
2026-01-28 08:26:08.014 [http-nio-8080-exec-9] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:08.016 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:26:08.016] EXITING: UserServiceImpl.getUserById returned: UserResponse
2026-01-28 08:26:08.017 [http-nio-8080-exec-9] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:08.017 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:08.017 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM order_items WHERE order_id = ?]
2026-01-28 08:26:08.017 [http-nio-8080-exec-9] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [8], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:08.018 [http-nio-8080-exec-9] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:08.018 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:26:08.018] ENTERING: ProductServiceImpl.getProductById with arguments: [41]
2026-01-28 08:26:08.018 [http-nio-8080-exec-9] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:08.019 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:08.019 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:26:08.019 [http-nio-8080-exec-9] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:08.020 [http-nio-8080-exec-9] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:08.020 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:08.020 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:26:08.020 [http-nio-8080-exec-9] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:08.021 [http-nio-8080-exec-9] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:08.021 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:08.021 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:26:08.021 [http-nio-8080-exec-9] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:08.022 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:26:08.022] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:26:08.022 [http-nio-8080-exec-9] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:08.023 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:26:08.023] ENTERING: UserServiceImpl.getUserById with arguments: [3]
2026-01-28 08:26:08.023 [http-nio-8080-exec-9] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:08.023 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:08.023 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT user_id, username, email, password_hash, first_name, last_name, 
        phone, user_type, created_at, updated_at
 FROM users WHERE user_id = ?
 ]
2026-01-28 08:26:08.023 [http-nio-8080-exec-9] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:08.024 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:26:08.024] EXITING: UserServiceImpl.getUserById returned: UserResponse
2026-01-28 08:26:08.024 [http-nio-8080-exec-9] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:08.024 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:08.024 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM order_items WHERE order_id = ?]
2026-01-28 08:26:08.024 [http-nio-8080-exec-9] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [7], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:08.024 [http-nio-8080-exec-9] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:08.024 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:26:08.024] ENTERING: ProductServiceImpl.getProductById with arguments: [4]
2026-01-28 08:26:08.024 [http-nio-8080-exec-9] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:08.026 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:08.026 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:26:08.026 [http-nio-8080-exec-9] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [4], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:08.027 [http-nio-8080-exec-9] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:08.028 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:08.028 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:26:08.028 [http-nio-8080-exec-9] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [11], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:08.028 [http-nio-8080-exec-9] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:08.029 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:08.029 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:26:08.030 [http-nio-8080-exec-9] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [4], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:08.033 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:26:08.033] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:26:08.034 [http-nio-8080-exec-9] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:08.034 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:26:08.034] ENTERING: UserServiceImpl.getUserById with arguments: [3]
2026-01-28 08:26:08.034 [http-nio-8080-exec-9] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:08.034 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:08.034 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT user_id, username, email, password_hash, first_name, last_name, 
        phone, user_type, created_at, updated_at
 FROM users WHERE user_id = ?
 ]
2026-01-28 08:26:08.034 [http-nio-8080-exec-9] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:08.035 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:26:08.035] EXITING: UserServiceImpl.getUserById returned: UserResponse
2026-01-28 08:26:08.035 [http-nio-8080-exec-9] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:08.035 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:08.036 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM order_items WHERE order_id = ?]
2026-01-28 08:26:08.036 [http-nio-8080-exec-9] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [6], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:08.037 [http-nio-8080-exec-9] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:08.037 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:26:08.037] ENTERING: ProductServiceImpl.getProductById with arguments: [85]
2026-01-28 08:26:08.037 [http-nio-8080-exec-9] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:08.037 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:08.037 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:26:08.037 [http-nio-8080-exec-9] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [85], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:08.038 [http-nio-8080-exec-9] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:08.038 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:08.038 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:26:08.039 [http-nio-8080-exec-9] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [10], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:08.039 [http-nio-8080-exec-9] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:08.040 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:08.040 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:26:08.040 [http-nio-8080-exec-9] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [85], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:08.041 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:26:08.041] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:26:08.041 [http-nio-8080-exec-9] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:08.041 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:26:08.041] ENTERING: UserServiceImpl.getUserById with arguments: [3]
2026-01-28 08:26:08.041 [http-nio-8080-exec-9] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:08.041 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:08.041 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT user_id, username, email, password_hash, first_name, last_name, 
        phone, user_type, created_at, updated_at
 FROM users WHERE user_id = ?
 ]
2026-01-28 08:26:08.042 [http-nio-8080-exec-9] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:08.042 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:26:08.042] EXITING: UserServiceImpl.getUserById returned: UserResponse
2026-01-28 08:26:08.042 [http-nio-8080-exec-9] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:08.042 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:08.042 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM order_items WHERE order_id = ?]
2026-01-28 08:26:08.043 [http-nio-8080-exec-9] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [5], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:08.044 [http-nio-8080-exec-9] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:08.044 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:26:08.044] ENTERING: ProductServiceImpl.getProductById with arguments: [41]
2026-01-28 08:26:08.044 [http-nio-8080-exec-9] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:08.044 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:08.044 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:26:08.044 [http-nio-8080-exec-9] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:08.045 [http-nio-8080-exec-9] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:08.046 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:08.046 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:26:08.046 [http-nio-8080-exec-9] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:08.046 [http-nio-8080-exec-9] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:08.047 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:08.047 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:26:08.047 [http-nio-8080-exec-9] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:08.048 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:26:08.048] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:26:08.049 [http-nio-8080-exec-9] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:08.049 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:26:08.049] ENTERING: UserServiceImpl.getUserById with arguments: [3]
2026-01-28 08:26:08.049 [http-nio-8080-exec-9] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:08.049 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:08.049 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT user_id, username, email, password_hash, first_name, last_name, 
        phone, user_type, created_at, updated_at
 FROM users WHERE user_id = ?
 ]
2026-01-28 08:26:08.050 [http-nio-8080-exec-9] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:08.050 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:26:08.050] EXITING: UserServiceImpl.getUserById returned: UserResponse
2026-01-28 08:26:08.050 [http-nio-8080-exec-9] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:08.051 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:08.051 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM order_items WHERE order_id = ?]
2026-01-28 08:26:08.051 [http-nio-8080-exec-9] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [4], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:08.051 [http-nio-8080-exec-9] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:08.052 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:26:08.052] ENTERING: ProductServiceImpl.getProductById with arguments: [18]
2026-01-28 08:26:08.052 [http-nio-8080-exec-9] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:08.052 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:08.053 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:26:08.054 [http-nio-8080-exec-9] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [18], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:08.054 [http-nio-8080-exec-9] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:08.054 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:08.054 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:26:08.054 [http-nio-8080-exec-9] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [15], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:08.056 [http-nio-8080-exec-9] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:08.057 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:08.057 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:26:08.057 [http-nio-8080-exec-9] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [18], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:08.058 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:26:08.058] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:26:08.058 [http-nio-8080-exec-9] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:08.058 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:26:08.058] ENTERING: ProductServiceImpl.getProductById with arguments: [41]
2026-01-28 08:26:08.058 [http-nio-8080-exec-9] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:08.058 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:08.058 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:26:08.058 [http-nio-8080-exec-9] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:08.060 [http-nio-8080-exec-9] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:08.060 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:08.060 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:26:08.060 [http-nio-8080-exec-9] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:08.061 [http-nio-8080-exec-9] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:26:08.061 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:26:08.061 [http-nio-8080-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:26:08.061 [http-nio-8080-exec-9] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:26:08.062 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:26:08.062] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:26:08.062 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:26:08.062] EXITING: OrderServiceImpl.getOrdersByUser returned: ArrayList
2026-01-28 08:26:08.063 [http-nio-8080-exec-9] DEBUG o.s.j.d.DataSourceTransactionManager - Initiating transaction commit
2026-01-28 08:26:08.063 [http-nio-8080-exec-9] DEBUG o.s.j.d.DataSourceTransactionManager - Committing JDBC transaction on Connection [HikariProxyConnection@26703316 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7]
2026-01-28 08:26:08.064 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@26703316 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7]
2026-01-28 08:26:08.064 [http-nio-8080-exec-9] DEBUG o.s.j.d.DataSourceTransactionManager - Releasing JDBC Connection [HikariProxyConnection@26703316 wrapping org.postgresql.jdbc.PgConnection@3e73f5e7] after transaction
2026-01-28 08:26:08.064 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint OrderController.getOrdersByUser responded in 54ms
2026-01-28 08:26:08.065 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: OrderController.getOrdersByUser returned: ResponseEntity
2026-01-28 08:26:12.866 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - keepalive: connection org.postgresql.jdbc.PgConnection@3e73f5e7 is alive
2026-01-28 08:26:26.633 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:26:26.633 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:26:26.633 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:26:30.178 [http-nio-8080-exec-3] WARN  c.s.exception.GlobalExceptionHandler - Validation failed: Validation failed for argument [1] in public org.springframework.http.ResponseEntity<com.shopjoy.dto.response.ApiResponse<com.shopjoy.dto.response.OrderResponse>> com.shopjoy.controller.OrderController.updateOrder(java.lang.Integer,com.shopjoy.dto.request.CreateOrderRequest) with 2 errors: [Field error in object 'createOrderRequest' on field 'totalAmount': rejected value [null]; codes [NotNull.createOrderRequest.totalAmount,NotNull.totalAmount,NotNull.java.lang.Double,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createOrderRequest.totalAmount,totalAmount]; arguments []; default message [totalAmount]]; default message [Total amount is required]] [Field error in object 'createOrderRequest' on field 'userId': rejected value [null]; codes [NotNull.createOrderRequest.userId,NotNull.userId,NotNull.java.lang.Integer,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createOrderRequest.userId,userId]; arguments []; default message [userId]]; default message [User ID is required]] 
2026-01-28 08:26:56.635 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:26:56.635 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:26:56.636 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:27:26.637 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:27:26.637 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:27:26.637 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:27:45.331 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - keepalive: connection org.postgresql.jdbc.PgConnection@5eb1c6b is alive
2026-01-28 08:27:56.638 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:27:56.638 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:27:56.638 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:28:08.315 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - keepalive: connection org.postgresql.jdbc.PgConnection@3e73f5e7 is alive
2026-01-28 08:28:26.640 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:28:26.640 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:28:26.640 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:28:56.641 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:28:56.641 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:28:56.641 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:29:26.642 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:29:26.642 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:29:26.642 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:29:34.940 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - keepalive: connection org.postgresql.jdbc.PgConnection@5eb1c6b is alive
2026-01-28 08:29:56.643 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:29:56.643 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:29:56.643 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:30:03.766 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - keepalive: connection org.postgresql.jdbc.PgConnection@3e73f5e7 is alive
2026-01-28 08:30:26.645 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:30:26.645 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:30:26.645 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:30:56.645 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:30:56.645 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:30:56.645 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:31:24.549 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - keepalive: connection org.postgresql.jdbc.PgConnection@5eb1c6b is alive
2026-01-28 08:31:26.646 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:31:26.646 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:31:26.646 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:31:56.647 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:31:56.647 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:31:56.647 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:31:59.214 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - keepalive: connection org.postgresql.jdbc.PgConnection@3e73f5e7 is alive
2026-01-28 08:32:26.648 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:32:26.648 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:32:26.648 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:32:56.649 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:32:56.649 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:32:56.649 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:33:14.158 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - keepalive: connection org.postgresql.jdbc.PgConnection@5eb1c6b is alive
2026-01-28 08:33:26.649 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:33:26.649 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:33:26.649 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:33:54.663 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - keepalive: connection org.postgresql.jdbc.PgConnection@3e73f5e7 is alive
2026-01-28 08:33:56.650 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:33:56.650 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:33:56.650 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:34:26.650 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:34:26.650 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:34:26.650 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:34:56.654 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:34:56.656 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:34:56.657 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:35:03.768 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - keepalive: connection org.postgresql.jdbc.PgConnection@5eb1c6b is alive
2026-01-28 08:35:26.657 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:35:26.657 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:35:26.657 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:35:50.113 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - keepalive: connection org.postgresql.jdbc.PgConnection@3e73f5e7 is alive
2026-01-28 08:35:56.659 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:35:56.659 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:35:56.659 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:36:26.659 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:36:26.659 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:36:26.659 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:36:53.377 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - keepalive: connection org.postgresql.jdbc.PgConnection@5eb1c6b is alive
2026-01-28 08:36:56.660 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:36:56.660 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:36:56.660 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:37:26.662 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:37:26.662 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:37:26.662 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:37:45.562 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - keepalive: connection org.postgresql.jdbc.PgConnection@3e73f5e7 is alive
2026-01-28 08:37:56.662 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:37:56.662 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:37:56.662 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:38:26.664 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:38:26.664 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:38:26.664 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:38:42.986 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - keepalive: connection org.postgresql.jdbc.PgConnection@5eb1c6b is alive
2026-01-28 08:38:56.665 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:38:56.665 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:38:56.665 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:39:26.666 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:39:26.666 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:39:26.666 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:39:41.011 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - keepalive: connection org.postgresql.jdbc.PgConnection@3e73f5e7 is alive
2026-01-28 08:39:56.667 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:39:56.667 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:39:56.667 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:40:26.667 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:40:26.668 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:40:26.668 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:40:32.596 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - keepalive: connection org.postgresql.jdbc.PgConnection@5eb1c6b is alive
2026-01-28 08:40:56.669 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:40:56.669 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:40:56.669 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:41:26.670 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:41:26.670 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:41:26.670 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:41:36.461 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - keepalive: connection org.postgresql.jdbc.PgConnection@3e73f5e7 is alive
2026-01-28 08:41:56.671 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:41:56.671 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:41:56.671 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:42:22.205 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - keepalive: connection org.postgresql.jdbc.PgConnection@5eb1c6b is alive
2026-01-28 08:42:26.672 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:42:26.672 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:42:26.672 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:42:49.376 [http-nio-8080-exec-7] WARN  c.s.exception.GlobalExceptionHandler - Validation failed: Validation failed for argument [1] in public org.springframework.http.ResponseEntity<com.shopjoy.dto.response.ApiResponse<com.shopjoy.dto.response.OrderResponse>> com.shopjoy.controller.OrderController.updateOrder(java.lang.Integer,com.shopjoy.dto.request.CreateOrderRequest) with 2 errors: [Field error in object 'createOrderRequest' on field 'totalAmount': rejected value [null]; codes [NotNull.createOrderRequest.totalAmount,NotNull.totalAmount,NotNull.java.lang.Double,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createOrderRequest.totalAmount,totalAmount]; arguments []; default message [totalAmount]]; default message [Total amount is required]] [Field error in object 'createOrderRequest' on field 'userId': rejected value [null]; codes [NotNull.createOrderRequest.userId,NotNull.userId,NotNull.java.lang.Integer,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createOrderRequest.userId,userId]; arguments []; default message [userId]]; default message [User ID is required]] 
2026-01-28 08:42:56.588 [SpringApplicationShutdownHook] INFO  o.s.boot.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2026-01-28 08:42:56.600 [tomcat-shutdown] INFO  o.s.boot.tomcat.GracefulShutdown - Graceful shutdown complete
2026-01-28 08:42:56.610 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - ShopJoyHikariCP - Shutdown initiated...
2026-01-28 08:42:56.610 [SpringApplicationShutdownHook] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before shutdown stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:42:56.611 [ShopJoyHikariCP:connection-closer] DEBUG com.zaxxer.hikari.pool.PoolBase - ShopJoyHikariCP - Closing connection org.postgresql.jdbc.PgConnection@3e73f5e7: (connection evicted)
2026-01-28 08:42:56.612 [ShopJoyHikariCP:connection-closer] DEBUG com.zaxxer.hikari.pool.PoolBase - ShopJoyHikariCP - Closing connection org.postgresql.jdbc.PgConnection@5eb1c6b: (connection evicted)
2026-01-28 08:42:56.613 [SpringApplicationShutdownHook] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  shutdown stats (total=0/5, idle=0/2, active=0, waiting=0)
2026-01-28 08:42:56.613 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - ShopJoyHikariCP - Shutdown completed.
2026-01-28 08:43:06.746 [main] INFO  c.s.ShopjoyEcommerceSystemApplication - Starting ShopjoyEcommerceSystemApplication using Java 25.0.1 with PID 4220 (C:\Users\EugeneDokyeAnokye\IdeaProjects\spring-ecommerce-system\target\classes started by EugeneDokyeAnokye in C:\Users\EugeneDokyeAnokye\IdeaProjects\spring-ecommerce-system)
2026-01-28 08:43:06.751 [main] DEBUG c.s.ShopjoyEcommerceSystemApplication - Running with Spring Boot v4.0.1, Spring v7.0.2
2026-01-28 08:43:06.752 [main] INFO  c.s.ShopjoyEcommerceSystemApplication - The following 1 profile is active: "dev"
2026-01-28 08:43:07.720 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 9.0.1.Final
2026-01-28 08:43:13.111 [main] INFO  o.s.boot.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-01-28 08:43:13.134 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2026-01-28 08:43:13.139 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-01-28 08:43:13.139 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/11.0.15]
2026-01-28 08:43:13.343 [main] INFO  o.s.b.w.c.s.WebApplicationContextInitializer - Root WebApplicationContext: initialization completed in 6468 ms
2026-01-28 08:43:14.350 [main] DEBUG com.zaxxer.hikari.util.UtilityElf - Class org.postgresql.Driver found in Thread context class loader jdk.internal.loader.ClassLoaders$AppClassLoader@14dad5dc
2026-01-28 08:43:14.357 [main] DEBUG com.zaxxer.hikari.HikariConfig - ShopJoyHikariCP - configuration:
2026-01-28 08:43:14.362 [main] DEBUG com.zaxxer.hikari.HikariConfig - allowPoolSuspension.............false
2026-01-28 08:43:14.363 [main] DEBUG com.zaxxer.hikari.HikariConfig - autoCommit......................true
2026-01-28 08:43:14.364 [main] DEBUG com.zaxxer.hikari.HikariConfig - catalog.........................none
2026-01-28 08:43:14.366 [main] DEBUG com.zaxxer.hikari.HikariConfig - connectionInitSql...............none
2026-01-28 08:43:14.367 [main] DEBUG com.zaxxer.hikari.HikariConfig - connectionTestQuery............."SELECT 1"
2026-01-28 08:43:14.368 [main] DEBUG com.zaxxer.hikari.HikariConfig - connectionTimeout...............20000
2026-01-28 08:43:14.369 [main] DEBUG com.zaxxer.hikari.HikariConfig - credentials.....................com.zaxxer.hikari.util.Credentials@fe156f4
2026-01-28 08:43:14.369 [main] DEBUG com.zaxxer.hikari.HikariConfig - credentialsProvider.............none
2026-01-28 08:43:14.370 [main] DEBUG com.zaxxer.hikari.HikariConfig - credentialsProviderClassName....none
2026-01-28 08:43:14.370 [main] DEBUG com.zaxxer.hikari.HikariConfig - dataSource......................none
2026-01-28 08:43:14.370 [main] DEBUG com.zaxxer.hikari.HikariConfig - dataSourceClassName.............none
2026-01-28 08:43:14.370 [main] DEBUG com.zaxxer.hikari.HikariConfig - dataSourceJNDI..................none
2026-01-28 08:43:14.371 [main] DEBUG com.zaxxer.hikari.HikariConfig - dataSourceProperties............{password=<masked>, prepStmtCacheSqlLimit=2048, cachePrepStmts=true, prepStmtCacheSize=250}
2026-01-28 08:43:14.371 [main] DEBUG com.zaxxer.hikari.HikariConfig - driverClassName................."org.postgresql.Driver"
2026-01-28 08:43:14.372 [main] DEBUG com.zaxxer.hikari.HikariConfig - exceptionOverride...............none
2026-01-28 08:43:14.373 [main] DEBUG com.zaxxer.hikari.HikariConfig - exceptionOverrideClassName......none
2026-01-28 08:43:14.373 [main] DEBUG com.zaxxer.hikari.HikariConfig - healthCheckProperties...........{}
2026-01-28 08:43:14.373 [main] DEBUG com.zaxxer.hikari.HikariConfig - healthCheckRegistry.............none
2026-01-28 08:43:14.373 [main] DEBUG com.zaxxer.hikari.HikariConfig - idleTimeout.....................600000
2026-01-28 08:43:14.374 [main] DEBUG com.zaxxer.hikari.HikariConfig - initializationFailTimeout.......1
2026-01-28 08:43:14.374 [main] DEBUG com.zaxxer.hikari.HikariConfig - isolateInternalQueries..........false
2026-01-28 08:43:14.374 [main] DEBUG com.zaxxer.hikari.HikariConfig - jdbcUrl.........................jdbc:postgresql://localhost:5432/shopjoy_db
2026-01-28 08:43:14.374 [main] DEBUG com.zaxxer.hikari.HikariConfig - keepaliveTime...................120000
2026-01-28 08:43:14.375 [main] DEBUG com.zaxxer.hikari.HikariConfig - leakDetectionThreshold..........0
2026-01-28 08:43:14.375 [main] DEBUG com.zaxxer.hikari.HikariConfig - maxLifetime.....................1800000
2026-01-28 08:43:14.376 [main] DEBUG com.zaxxer.hikari.HikariConfig - maximumPoolSize.................5
2026-01-28 08:43:14.376 [main] DEBUG com.zaxxer.hikari.HikariConfig - metricRegistry..................none
2026-01-28 08:43:14.376 [main] DEBUG com.zaxxer.hikari.HikariConfig - metricsTrackerFactory...........none
2026-01-28 08:43:14.376 [main] DEBUG com.zaxxer.hikari.HikariConfig - minimumIdle.....................2
2026-01-28 08:43:14.376 [main] DEBUG com.zaxxer.hikari.HikariConfig - password........................<masked>
2026-01-28 08:43:14.376 [main] DEBUG com.zaxxer.hikari.HikariConfig - poolName........................"ShopJoyHikariCP"
2026-01-28 08:43:14.377 [main] DEBUG com.zaxxer.hikari.HikariConfig - readOnly........................false
2026-01-28 08:43:14.377 [main] DEBUG com.zaxxer.hikari.HikariConfig - registerMbeans..................false
2026-01-28 08:43:14.377 [main] DEBUG com.zaxxer.hikari.HikariConfig - scheduledExecutor...............none
2026-01-28 08:43:14.377 [main] DEBUG com.zaxxer.hikari.HikariConfig - schema..........................none
2026-01-28 08:43:14.378 [main] DEBUG com.zaxxer.hikari.HikariConfig - threadFactory...................internal
2026-01-28 08:43:14.378 [main] DEBUG com.zaxxer.hikari.HikariConfig - transactionIsolation............default
2026-01-28 08:43:14.379 [main] DEBUG com.zaxxer.hikari.HikariConfig - username........................"postgres"
2026-01-28 08:43:14.379 [main] DEBUG com.zaxxer.hikari.HikariConfig - validationTimeout...............5000
2026-01-28 08:43:14.387 [main] INFO  com.zaxxer.hikari.HikariDataSource - ShopJoyHikariCP - Starting...
2026-01-28 08:43:14.417 [main] DEBUG com.zaxxer.hikari.pool.PoolBase - ShopJoyHikariCP - Attempting to create/setup new connection (86ff36b5-3811-4ff8-89fa-ca6b30ac1bef)
2026-01-28 08:43:14.868 [main] DEBUG com.zaxxer.hikari.pool.PoolBase - ShopJoyHikariCP - Established new connection (86ff36b5-3811-4ff8-89fa-ca6b30ac1bef)
2026-01-28 08:43:14.870 [main] INFO  com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Added connection org.postgresql.jdbc.PgConnection@471a9e8c
2026-01-28 08:43:14.876 [main] INFO  com.zaxxer.hikari.HikariDataSource - ShopJoyHikariCP - Start completed.
2026-01-28 08:43:14.977 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=1/5, idle=1/2, active=0, waiting=0)
2026-01-28 08:43:14.979 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=1/5, idle=1/2, active=0, waiting=0)
2026-01-28 08:43:14.993 [ShopJoyHikariCP:connection-adder] DEBUG com.zaxxer.hikari.pool.PoolBase - ShopJoyHikariCP - Attempting to create/setup new connection (066c0ef7-6a87-46b9-8b3d-af466d67ffa1)
2026-01-28 08:43:15.693 [ShopJoyHikariCP:connection-adder] DEBUG com.zaxxer.hikari.pool.PoolBase - ShopJoyHikariCP - Established new connection (066c0ef7-6a87-46b9-8b3d-af466d67ffa1)
2026-01-28 08:43:15.694 [ShopJoyHikariCP:connection-adder] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Added connection org.postgresql.jdbc.PgConnection@26e61e44
2026-01-28 08:43:15.725 [ShopJoyHikariCP:connection-adder] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After adding stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:43:18.964 [main] INFO  o.s.g.e.DefaultSchemaResourceGraphQlSourceBuilder - Loaded 1 resource(s) in the GraphQL schema.
2026-01-28 08:43:19.381 [main] INFO  o.s.b.g.a.GraphQlAutoConfiguration - GraphQL schema inspection:
	Unmapped fields: {CartItem=[addedAt], Inventory=[reservedQuantity]}
	Unmapped registrations: {}
	Unmapped arguments: {}
	Field nullness errors: {}
	Argument nullness errors: {}
	Skipped types: []
2026-01-28 08:43:19.460 [main] INFO  o.s.b.g.a.s.GraphQlWebMvcAutoConfiguration - GraphQL endpoint HTTP POST /graphql
2026-01-28 08:43:21.002 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2026-01-28 08:43:21.179 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2026-01-28 08:43:21.216 [main] INFO  o.s.boot.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2026-01-28 08:43:21.246 [main] INFO  c.s.ShopjoyEcommerceSystemApplication - Started ShopjoyEcommerceSystemApplication in 15.842 seconds (process running for 16.968)
2026-01-28 08:43:21.398 [main] WARN  o.s.c.events.SpringDocAppInitializer - SpringDoc /api-docs endpoint is enabled by default. To disable it in production, set the property 'springdoc.api-docs.enabled=false'
2026-01-28 08:43:44.984 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:43:44.984 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:43:44.984 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:44:14.985 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:44:14.985 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:44:14.985 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:44:44.987 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:44:44.987 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:44:44.987 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:44:59.470 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - keepalive: connection org.postgresql.jdbc.PgConnection@471a9e8c is alive
2026-01-28 08:45:04.965 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - keepalive: connection org.postgresql.jdbc.PgConnection@26e61e44 is alive
2026-01-28 08:45:14.989 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:45:14.989 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:45:14.989 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:45:44.990 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:45:44.990 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:45:44.990 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:46:14.991 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:46:14.991 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:46:14.991 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:46:29.709 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-28 08:46:29.709 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-01-28 08:46:29.711 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2026-01-28 08:46:30.091 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: OrderController.updateOrder with arguments: [4, com.shopjoy.dto.request.UpdateOrderRequest@1364840f]
2026-01-28 08:46:30.099 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Creating new transaction with name [com.shopjoy.service.impl.OrderServiceImpl.updateOrder]: PROPAGATION_REQUIRED,ISOLATION_SERIALIZABLE
2026-01-28 08:46:30.106 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Acquired Connection [HikariProxyConnection@1558166056 wrapping org.postgresql.jdbc.PgConnection@471a9e8c] for JDBC transaction
2026-01-28 08:46:30.110 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Changing isolation level of JDBC Connection [HikariProxyConnection@1558166056 wrapping org.postgresql.jdbc.PgConnection@471a9e8c] to 8
2026-01-28 08:46:30.112 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Switching JDBC Connection [HikariProxyConnection@1558166056 wrapping org.postgresql.jdbc.PgConnection@471a9e8c] to manual commit
2026-01-28 08:46:30.113 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - DATA MODIFICATION STARTED: OrderServiceImpl.updateOrder(Integer, UpdateOrderRequest) with arguments: [4, com.shopjoy.dto.request.UpdateOrderRequest@1364840f]
2026-01-28 08:46:30.113 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:30.113] ENTERING: OrderServiceImpl.updateOrder with arguments: [4, com.shopjoy.dto.request.UpdateOrderRequest@1364840f]
2026-01-28 08:46:30.114 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.116 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:30.118 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM orders WHERE order_id = ?]
2026-01-28 08:46:30.130 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [4], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.159 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.160 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:30.160 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM order_items WHERE order_id = ?]
2026-01-28 08:46:30.160 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [4], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.166 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.167 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:30.167] ENTERING: InventoryServiceImpl.releaseStock with arguments: [18, 1]
2026-01-28 08:46:30.170 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.172 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL update
2026-01-28 08:46:30.172 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [UPDATE inventory SET quantity_in_stock = quantity_in_stock + ?, updated_at = CURRENT_TIMESTAMP WHERE product_id = ?]
2026-01-28 08:46:30.173 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [1], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.174 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 2, parameter value [18], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.184 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:30.184] EXITING: InventoryServiceImpl.releaseStock returned: void
2026-01-28 08:46:30.184 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.185 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:30.185] ENTERING: InventoryServiceImpl.releaseStock with arguments: [41, 2]
2026-01-28 08:46:30.185 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.185 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL update
2026-01-28 08:46:30.185 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [UPDATE inventory SET quantity_in_stock = quantity_in_stock + ?, updated_at = CURRENT_TIMESTAMP WHERE product_id = ?]
2026-01-28 08:46:30.185 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [2], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.185 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 2, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.187 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:30.187] EXITING: InventoryServiceImpl.releaseStock returned: void
2026-01-28 08:46:30.187 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.189 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL update
2026-01-28 08:46:30.189 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [DELETE FROM order_items WHERE order_item_id = ?]
2026-01-28 08:46:30.189 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [6], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.191 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.192 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL update
2026-01-28 08:46:30.192 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [DELETE FROM order_items WHERE order_item_id = ?]
2026-01-28 08:46:30.192 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [7], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.193 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.194 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:30.194] ENTERING: ProductServiceImpl.getProductById with arguments: [18]
2026-01-28 08:46:30.194 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.195 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:30.195 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:46:30.196 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [18], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.205 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.206 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:30.207 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:46:30.207 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [15], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.212 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.213 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:30.213 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:46:30.214 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [18], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.218 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:30.218] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:46:30.219 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.219 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:30.219] ENTERING: InventoryServiceImpl.hasAvailableStock with arguments: [18, 2]
2026-01-28 08:46:30.220 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.221 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:30.221 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:46:30.221 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [18], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.223 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:30.222] EXITING: InventoryServiceImpl.hasAvailableStock returned: Boolean
2026-01-28 08:46:30.223 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.223 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:30.223] ENTERING: InventoryServiceImpl.reserveStock with arguments: [18, 2]
2026-01-28 08:46:30.224 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.224 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:30.224 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:46:30.224 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [18], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.226 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.227 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL update
2026-01-28 08:46:30.227 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [UPDATE inventory SET quantity_in_stock = quantity_in_stock - ?, updated_at = CURRENT_TIMESTAMP WHERE product_id = ? AND quantity_in_stock >= ?]
2026-01-28 08:46:30.227 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [2], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.227 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 2, parameter value [18], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.228 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 3, parameter value [2], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.236 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:30.236] EXITING: InventoryServiceImpl.reserveStock returned: void
2026-01-28 08:46:30.237 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.237 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:30.237] ENTERING: ProductServiceImpl.getProductById with arguments: [41]
2026-01-28 08:46:30.237 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.237 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:30.237 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:46:30.237 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.240 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.240 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:30.240 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:46:30.240 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.242 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.242 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:30.242 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:46:30.242 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.244 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:30.243] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:46:30.244 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.244 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:30.244] ENTERING: InventoryServiceImpl.hasAvailableStock with arguments: [41, 2]
2026-01-28 08:46:30.245 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.245 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:30.245 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:46:30.245 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.247 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:30.247] EXITING: InventoryServiceImpl.hasAvailableStock returned: Boolean
2026-01-28 08:46:30.247 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.247 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:30.247] ENTERING: InventoryServiceImpl.reserveStock with arguments: [41, 2]
2026-01-28 08:46:30.247 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.247 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:30.248 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:46:30.248 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.250 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.250 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL update
2026-01-28 08:46:30.250 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [UPDATE inventory SET quantity_in_stock = quantity_in_stock - ?, updated_at = CURRENT_TIMESTAMP WHERE product_id = ? AND quantity_in_stock >= ?]
2026-01-28 08:46:30.251 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [2], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.251 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 2, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.251 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 3, parameter value [2], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.253 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:30.253] EXITING: InventoryServiceImpl.reserveStock returned: void
2026-01-28 08:46:30.254 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.259 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing SQL update and returning generated keys
2026-01-28 08:46:30.259 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement
2026-01-28 08:46:30.267 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.268 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing SQL update and returning generated keys
2026-01-28 08:46:30.268 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement
2026-01-28 08:46:30.270 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.273 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL update
2026-01-28 08:46:30.274 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [UPDATE orders SET status = ?, payment_status = ?, payment_method = ?, shipping_address = ?, notes = ?, total_amount = ?, updated_at = ? WHERE order_id = ?]
2026-01-28 08:46:30.274 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [pending], value class [java.lang.String], SQL type unknown
2026-01-28 08:46:30.274 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 2, parameter value [unpaid], value class [java.lang.String], SQL type unknown
2026-01-28 08:46:30.275 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 3, parameter value [MOBILE_MONEY], value class [java.lang.String], SQL type unknown
2026-01-28 08:46:30.275 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 4, parameter value [123 Main St, New York, NY 10001], value class [java.lang.String], SQL type unknown
2026-01-28 08:46:30.275 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 5, parameter value [], value class [java.lang.String], SQL type unknown
2026-01-28 08:46:30.275 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 6, parameter value [527.96], value class [java.lang.Double], SQL type unknown
2026-01-28 08:46:30.275 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 7, parameter value [2026-01-28T08:46:30.273677200], value class [java.time.LocalDateTime], SQL type unknown
2026-01-28 08:46:30.275 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 8, parameter value [4], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.278 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.279 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:30.278] ENTERING: UserServiceImpl.getUserById with arguments: [3]
2026-01-28 08:46:30.279 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.279 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:30.279 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT user_id, username, email, password_hash, first_name, last_name, 
        phone, user_type, created_at, updated_at
 FROM users WHERE user_id = ?
 ]
2026-01-28 08:46:30.280 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.289 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:30.289] EXITING: UserServiceImpl.getUserById returned: UserResponse
2026-01-28 08:46:30.289 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.290 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:30.290 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM order_items WHERE order_id = ?]
2026-01-28 08:46:30.290 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [4], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.292 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.292 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:30.292] ENTERING: ProductServiceImpl.getProductById with arguments: [18]
2026-01-28 08:46:30.292 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.293 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:30.293 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:46:30.293 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [18], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.295 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.295 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:30.295 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:46:30.295 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [15], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.296 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.297 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:30.297 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:46:30.297 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [18], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.298 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:30.298] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:46:30.300 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.300 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:30.300] ENTERING: ProductServiceImpl.getProductById with arguments: [41]
2026-01-28 08:46:30.300 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.301 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:30.301 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:46:30.301 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.302 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.303 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:30.303 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:46:30.303 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.304 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.305 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:30.305 [http-nio-8080-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:46:30.306 [http-nio-8080-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.307 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:30.307] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:46:30.309 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:30.309] EXITING: OrderServiceImpl.updateOrder returned: OrderResponse
2026-01-28 08:46:30.309 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - DATA MODIFICATION COMPLETED: OrderServiceImpl.updateOrder(Integer, UpdateOrderRequest) in 196ms
2026-01-28 08:46:30.309 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Initiating transaction commit
2026-01-28 08:46:30.310 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Committing JDBC transaction on Connection [HikariProxyConnection@1558166056 wrapping org.postgresql.jdbc.PgConnection@471a9e8c]
2026-01-28 08:46:30.313 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting isolation level of JDBC Connection [HikariProxyConnection@1558166056 wrapping org.postgresql.jdbc.PgConnection@471a9e8c] to 2
2026-01-28 08:46:30.314 [http-nio-8080-exec-1] DEBUG o.s.j.d.DataSourceTransactionManager - Releasing JDBC Connection [HikariProxyConnection@1558166056 wrapping org.postgresql.jdbc.PgConnection@471a9e8c] after transaction
2026-01-28 08:46:30.330 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint OrderController.updateOrder responded in 238ms
2026-01-28 08:46:30.331 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: OrderController.updateOrder returned: ResponseEntity
2026-01-28 08:46:30.481 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: OrderController.getOrdersByUser with arguments: [3]
2026-01-28 08:46:30.481 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Creating new transaction with name [com.shopjoy.service.impl.OrderServiceImpl.getOrdersByUser]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-28 08:46:30.481 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Acquired Connection [HikariProxyConnection@803656119 wrapping org.postgresql.jdbc.PgConnection@471a9e8c] for JDBC transaction
2026-01-28 08:46:30.481 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@803656119 wrapping org.postgresql.jdbc.PgConnection@471a9e8c] read-only
2026-01-28 08:46:30.482 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Switching JDBC Connection [HikariProxyConnection@803656119 wrapping org.postgresql.jdbc.PgConnection@471a9e8c] to manual commit
2026-01-28 08:46:30.482 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:30.482] ENTERING: OrderServiceImpl.getOrdersByUser with arguments: [3]
2026-01-28 08:46:30.482 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.483 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:30.483 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM orders WHERE user_id = ? ORDER BY order_date DESC]
2026-01-28 08:46:30.483 [http-nio-8080-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.487 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.487 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:30.487] ENTERING: UserServiceImpl.getUserById with arguments: [3]
2026-01-28 08:46:30.487 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.488 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:30.488 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT user_id, username, email, password_hash, first_name, last_name, 
        phone, user_type, created_at, updated_at
 FROM users WHERE user_id = ?
 ]
2026-01-28 08:46:30.488 [http-nio-8080-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.490 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:30.490] EXITING: UserServiceImpl.getUserById returned: UserResponse
2026-01-28 08:46:30.491 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.491 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:30.491 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM order_items WHERE order_id = ?]
2026-01-28 08:46:30.491 [http-nio-8080-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [8], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.492 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.492 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:30.492] ENTERING: ProductServiceImpl.getProductById with arguments: [41]
2026-01-28 08:46:30.493 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.493 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:30.493 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:46:30.493 [http-nio-8080-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.495 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.496 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:30.496 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:46:30.496 [http-nio-8080-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.497 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.498 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:30.498 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:46:30.498 [http-nio-8080-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.499 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:30.499] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:46:30.500 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.500 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:30.500] ENTERING: UserServiceImpl.getUserById with arguments: [3]
2026-01-28 08:46:30.500 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.500 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:30.500 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT user_id, username, email, password_hash, first_name, last_name, 
        phone, user_type, created_at, updated_at
 FROM users WHERE user_id = ?
 ]
2026-01-28 08:46:30.500 [http-nio-8080-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.502 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:30.502] EXITING: UserServiceImpl.getUserById returned: UserResponse
2026-01-28 08:46:30.502 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.503 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:30.503 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM order_items WHERE order_id = ?]
2026-01-28 08:46:30.503 [http-nio-8080-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [7], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.505 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.506 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:30.506] ENTERING: ProductServiceImpl.getProductById with arguments: [4]
2026-01-28 08:46:30.506 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.506 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:30.506 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:46:30.506 [http-nio-8080-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [4], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.508 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.509 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:30.509 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:46:30.509 [http-nio-8080-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [11], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.510 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.510 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:30.511 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:46:30.511 [http-nio-8080-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [4], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.511 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:30.511] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:46:30.511 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.511 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:30.511] ENTERING: UserServiceImpl.getUserById with arguments: [3]
2026-01-28 08:46:30.513 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.513 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:30.513 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT user_id, username, email, password_hash, first_name, last_name, 
        phone, user_type, created_at, updated_at
 FROM users WHERE user_id = ?
 ]
2026-01-28 08:46:30.514 [http-nio-8080-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.515 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:30.515] EXITING: UserServiceImpl.getUserById returned: UserResponse
2026-01-28 08:46:30.515 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.516 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:30.516 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM order_items WHERE order_id = ?]
2026-01-28 08:46:30.516 [http-nio-8080-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [6], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.518 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.518 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:30.518] ENTERING: ProductServiceImpl.getProductById with arguments: [85]
2026-01-28 08:46:30.518 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.519 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:30.519 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:46:30.519 [http-nio-8080-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [85], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.520 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.520 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:30.520 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:46:30.521 [http-nio-8080-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [10], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.522 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.522 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:30.522 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:46:30.522 [http-nio-8080-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [85], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.526 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:30.526] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:46:30.526 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.526 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:30.526] ENTERING: UserServiceImpl.getUserById with arguments: [3]
2026-01-28 08:46:30.526 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.527 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:30.527 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT user_id, username, email, password_hash, first_name, last_name, 
        phone, user_type, created_at, updated_at
 FROM users WHERE user_id = ?
 ]
2026-01-28 08:46:30.527 [http-nio-8080-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.529 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:30.528] EXITING: UserServiceImpl.getUserById returned: UserResponse
2026-01-28 08:46:30.529 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.529 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:30.529 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM order_items WHERE order_id = ?]
2026-01-28 08:46:30.529 [http-nio-8080-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [5], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.531 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.531 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:30.531] ENTERING: ProductServiceImpl.getProductById with arguments: [41]
2026-01-28 08:46:30.531 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.531 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:30.531 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:46:30.531 [http-nio-8080-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.533 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.533 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:30.533 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:46:30.533 [http-nio-8080-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.535 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.535 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:30.535 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:46:30.535 [http-nio-8080-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.537 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:30.537] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:46:30.537 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.537 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:30.537] ENTERING: UserServiceImpl.getUserById with arguments: [3]
2026-01-28 08:46:30.537 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.537 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:30.537 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT user_id, username, email, password_hash, first_name, last_name, 
        phone, user_type, created_at, updated_at
 FROM users WHERE user_id = ?
 ]
2026-01-28 08:46:30.537 [http-nio-8080-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.540 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:30.540] EXITING: UserServiceImpl.getUserById returned: UserResponse
2026-01-28 08:46:30.540 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.540 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:30.540 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM order_items WHERE order_id = ?]
2026-01-28 08:46:30.540 [http-nio-8080-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [4], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.543 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.543 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:30.543] ENTERING: ProductServiceImpl.getProductById with arguments: [18]
2026-01-28 08:46:30.543 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.543 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:30.543 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:46:30.543 [http-nio-8080-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [18], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.559 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.560 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:30.560 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:46:30.560 [http-nio-8080-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [15], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.566 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.566 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:30.566 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:46:30.566 [http-nio-8080-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [18], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.568 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:30.568] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:46:30.568 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.568 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:30.568] ENTERING: ProductServiceImpl.getProductById with arguments: [41]
2026-01-28 08:46:30.568 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.568 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:30.568 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:46:30.569 [http-nio-8080-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.570 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.570 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:30.570 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:46:30.570 [http-nio-8080-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.571 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:30.572 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:30.572 [http-nio-8080-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:46:30.572 [http-nio-8080-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:30.576 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:30.576] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:46:30.577 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:30.576] EXITING: OrderServiceImpl.getOrdersByUser returned: ArrayList
2026-01-28 08:46:30.577 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Initiating transaction commit
2026-01-28 08:46:30.577 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Committing JDBC transaction on Connection [HikariProxyConnection@803656119 wrapping org.postgresql.jdbc.PgConnection@471a9e8c]
2026-01-28 08:46:30.578 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@803656119 wrapping org.postgresql.jdbc.PgConnection@471a9e8c]
2026-01-28 08:46:30.578 [http-nio-8080-exec-2] DEBUG o.s.j.d.DataSourceTransactionManager - Releasing JDBC Connection [HikariProxyConnection@803656119 wrapping org.postgresql.jdbc.PgConnection@471a9e8c] after transaction
2026-01-28 08:46:30.578 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint OrderController.getOrdersByUser responded in 97ms
2026-01-28 08:46:30.579 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: OrderController.getOrdersByUser returned: ResponseEntity
2026-01-28 08:46:44.069 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - keepalive: connection org.postgresql.jdbc.PgConnection@471a9e8c is alive
2026-01-28 08:46:44.992 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:46:44.992 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:46:44.992 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:46:48.776 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: OrderController.deleteOrder with arguments: [4]
2026-01-28 08:46:48.776 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Creating new transaction with name [com.shopjoy.service.impl.OrderServiceImpl.deleteOrder]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2026-01-28 08:46:48.777 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Acquired Connection [HikariProxyConnection@414606169 wrapping org.postgresql.jdbc.PgConnection@471a9e8c] for JDBC transaction
2026-01-28 08:46:48.777 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Switching JDBC Connection [HikariProxyConnection@414606169 wrapping org.postgresql.jdbc.PgConnection@471a9e8c] to manual commit
2026-01-28 08:46:48.778 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - DATA MODIFICATION STARTED: OrderServiceImpl.deleteOrder(Integer) with arguments: [4]
2026-01-28 08:46:48.778 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:48.778] ENTERING: OrderServiceImpl.deleteOrder with arguments: [4]
2026-01-28 08:46:48.778 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:48.778 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:48.778 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM orders WHERE order_id = ?]
2026-01-28 08:46:48.778 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [4], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:48.780 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:48.780 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:48.781 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM order_items WHERE order_id = ?]
2026-01-28 08:46:48.781 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [4], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:48.782 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:48.782 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:48.782] ENTERING: InventoryServiceImpl.releaseStock with arguments: [18, 2]
2026-01-28 08:46:48.783 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:48.783 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL update
2026-01-28 08:46:48.783 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [UPDATE inventory SET quantity_in_stock = quantity_in_stock + ?, updated_at = CURRENT_TIMESTAMP WHERE product_id = ?]
2026-01-28 08:46:48.783 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [2], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:48.783 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 2, parameter value [18], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:48.785 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:48.785] EXITING: InventoryServiceImpl.releaseStock returned: void
2026-01-28 08:46:48.785 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:48.786 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:48.786] ENTERING: InventoryServiceImpl.releaseStock with arguments: [41, 2]
2026-01-28 08:46:48.786 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:48.786 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL update
2026-01-28 08:46:48.786 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [UPDATE inventory SET quantity_in_stock = quantity_in_stock + ?, updated_at = CURRENT_TIMESTAMP WHERE product_id = ?]
2026-01-28 08:46:48.786 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [2], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:48.787 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 2, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:48.788 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:48.788] EXITING: InventoryServiceImpl.releaseStock returned: void
2026-01-28 08:46:48.788 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:48.805 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL update
2026-01-28 08:46:48.805 [http-nio-8080-exec-3] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [DELETE FROM orders WHERE order_id = ?]
2026-01-28 08:46:48.805 [http-nio-8080-exec-3] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [4], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:48.807 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:48.807] EXITING: OrderServiceImpl.deleteOrder returned: void
2026-01-28 08:46:48.807 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - DATA MODIFICATION COMPLETED: OrderServiceImpl.deleteOrder(Integer) in 29ms
2026-01-28 08:46:48.807 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Initiating transaction commit
2026-01-28 08:46:48.807 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Committing JDBC transaction on Connection [HikariProxyConnection@414606169 wrapping org.postgresql.jdbc.PgConnection@471a9e8c]
2026-01-28 08:46:48.808 [http-nio-8080-exec-3] DEBUG o.s.j.d.DataSourceTransactionManager - Releasing JDBC Connection [HikariProxyConnection@414606169 wrapping org.postgresql.jdbc.PgConnection@471a9e8c] after transaction
2026-01-28 08:46:48.808 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint OrderController.deleteOrder responded in 32ms
2026-01-28 08:46:48.808 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: OrderController.deleteOrder returned: ResponseEntity
2026-01-28 08:46:48.822 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: OrderController.getOrdersByUser with arguments: [3]
2026-01-28 08:46:48.823 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Creating new transaction with name [com.shopjoy.service.impl.OrderServiceImpl.getOrdersByUser]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2026-01-28 08:46:48.823 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Acquired Connection [HikariProxyConnection@955421058 wrapping org.postgresql.jdbc.PgConnection@471a9e8c] for JDBC transaction
2026-01-28 08:46:48.823 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@955421058 wrapping org.postgresql.jdbc.PgConnection@471a9e8c] read-only
2026-01-28 08:46:48.823 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Switching JDBC Connection [HikariProxyConnection@955421058 wrapping org.postgresql.jdbc.PgConnection@471a9e8c] to manual commit
2026-01-28 08:46:48.823 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:48.823] ENTERING: OrderServiceImpl.getOrdersByUser with arguments: [3]
2026-01-28 08:46:48.824 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:48.824 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:48.824 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM orders WHERE user_id = ? ORDER BY order_date DESC]
2026-01-28 08:46:48.825 [http-nio-8080-exec-4] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:48.827 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:48.827 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:48.827] ENTERING: UserServiceImpl.getUserById with arguments: [3]
2026-01-28 08:46:48.828 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:48.828 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:48.828 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT user_id, username, email, password_hash, first_name, last_name, 
        phone, user_type, created_at, updated_at
 FROM users WHERE user_id = ?
 ]
2026-01-28 08:46:48.828 [http-nio-8080-exec-4] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:48.829 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:48.829] EXITING: UserServiceImpl.getUserById returned: UserResponse
2026-01-28 08:46:48.829 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:48.829 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:48.829 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM order_items WHERE order_id = ?]
2026-01-28 08:46:48.829 [http-nio-8080-exec-4] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [8], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:48.831 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:48.831 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:48.831] ENTERING: ProductServiceImpl.getProductById with arguments: [41]
2026-01-28 08:46:48.831 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:48.831 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:48.831 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:46:48.831 [http-nio-8080-exec-4] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:48.834 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:48.834 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:48.834 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:46:48.834 [http-nio-8080-exec-4] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:48.835 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:48.836 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:48.836 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:46:48.836 [http-nio-8080-exec-4] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:48.837 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:48.837] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:46:48.838 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:48.838 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:48.838] ENTERING: UserServiceImpl.getUserById with arguments: [3]
2026-01-28 08:46:48.838 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:48.838 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:48.838 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT user_id, username, email, password_hash, first_name, last_name, 
        phone, user_type, created_at, updated_at
 FROM users WHERE user_id = ?
 ]
2026-01-28 08:46:48.838 [http-nio-8080-exec-4] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:48.840 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:48.840] EXITING: UserServiceImpl.getUserById returned: UserResponse
2026-01-28 08:46:48.840 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:48.840 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:48.840 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM order_items WHERE order_id = ?]
2026-01-28 08:46:48.840 [http-nio-8080-exec-4] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [7], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:48.841 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:48.842 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:48.842] ENTERING: ProductServiceImpl.getProductById with arguments: [4]
2026-01-28 08:46:48.842 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:48.842 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:48.842 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:46:48.842 [http-nio-8080-exec-4] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [4], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:48.843 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:48.843 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:48.843 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:46:48.843 [http-nio-8080-exec-4] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [11], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:48.844 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:48.845 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:48.845 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:46:48.845 [http-nio-8080-exec-4] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [4], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:48.845 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:48.845] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:46:48.846 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:48.846 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:48.846] ENTERING: UserServiceImpl.getUserById with arguments: [3]
2026-01-28 08:46:48.846 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:48.847 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:48.847 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT user_id, username, email, password_hash, first_name, last_name, 
        phone, user_type, created_at, updated_at
 FROM users WHERE user_id = ?
 ]
2026-01-28 08:46:48.847 [http-nio-8080-exec-4] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:48.848 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:48.848] EXITING: UserServiceImpl.getUserById returned: UserResponse
2026-01-28 08:46:48.848 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:48.848 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:48.848 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM order_items WHERE order_id = ?]
2026-01-28 08:46:48.848 [http-nio-8080-exec-4] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [6], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:48.851 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:48.852 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:48.851] ENTERING: ProductServiceImpl.getProductById with arguments: [85]
2026-01-28 08:46:48.852 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:48.852 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:48.852 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:46:48.852 [http-nio-8080-exec-4] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [85], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:48.853 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:48.853 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:48.853 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:46:48.854 [http-nio-8080-exec-4] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [10], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:48.855 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:48.855 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:48.855 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:46:48.855 [http-nio-8080-exec-4] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [85], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:48.856 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:48.856] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:46:48.857 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:48.857 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:48.857] ENTERING: UserServiceImpl.getUserById with arguments: [3]
2026-01-28 08:46:48.857 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:48.857 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:48.857 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT user_id, username, email, password_hash, first_name, last_name, 
        phone, user_type, created_at, updated_at
 FROM users WHERE user_id = ?
 ]
2026-01-28 08:46:48.857 [http-nio-8080-exec-4] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:48.858 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:48.858] EXITING: UserServiceImpl.getUserById returned: UserResponse
2026-01-28 08:46:48.859 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:48.859 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:48.859 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM order_items WHERE order_id = ?]
2026-01-28 08:46:48.859 [http-nio-8080-exec-4] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [5], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:48.861 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:48.861 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:48.861] ENTERING: ProductServiceImpl.getProductById with arguments: [41]
2026-01-28 08:46:48.861 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:48.861 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:48.861 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT product_id, category_id, product_name, description, price, cost_price,
        sku, brand, image_url, is_active, created_at, updated_at
 FROM products WHERE product_id = ?
 ]
2026-01-28 08:46:48.861 [http-nio-8080-exec-4] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:48.862 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:48.863 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:48.863 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM categories WHERE category_id = ?]
2026-01-28 08:46:48.863 [http-nio-8080-exec-4] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:48.863 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Participating in existing transaction
2026-01-28 08:46:48.863 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2026-01-28 08:46:48.864 [http-nio-8080-exec-4] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [SELECT * FROM inventory WHERE product_id = ?]
2026-01-28 08:46:48.864 [http-nio-8080-exec-4] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [41], value class [java.lang.Integer], SQL type unknown
2026-01-28 08:46:48.864 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:48.864] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-01-28 08:46:48.865 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-01-28 08:46:48.865] EXITING: OrderServiceImpl.getOrdersByUser returned: ArrayList
2026-01-28 08:46:48.865 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Initiating transaction commit
2026-01-28 08:46:48.865 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Committing JDBC transaction on Connection [HikariProxyConnection@955421058 wrapping org.postgresql.jdbc.PgConnection@471a9e8c]
2026-01-28 08:46:48.867 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@955421058 wrapping org.postgresql.jdbc.PgConnection@471a9e8c]
2026-01-28 08:46:48.867 [http-nio-8080-exec-4] DEBUG o.s.j.d.DataSourceTransactionManager - Releasing JDBC Connection [HikariProxyConnection@955421058 wrapping org.postgresql.jdbc.PgConnection@471a9e8c] after transaction
2026-01-28 08:46:48.867 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint OrderController.getOrdersByUser responded in 44ms
2026-01-28 08:46:48.867 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: OrderController.getOrdersByUser returned: ResponseEntity
2026-01-28 08:46:54.236 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - keepalive: connection org.postgresql.jdbc.PgConnection@26e61e44 is alive
2026-01-28 08:47:14.993 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:47:14.993 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:47:14.993 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:47:44.994 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:47:44.994 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:47:44.994 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:48:14.995 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:48:14.995 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:48:14.995 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:48:28.669 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - keepalive: connection org.postgresql.jdbc.PgConnection@471a9e8c is alive
2026-01-28 08:48:43.508 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - keepalive: connection org.postgresql.jdbc.PgConnection@26e61e44 is alive
2026-01-28 08:48:44.996 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:48:44.996 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:48:44.996 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:49:14.997 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:49:14.997 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:49:14.997 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:49:44.998 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:49:44.998 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:49:44.998 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:50:13.269 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - keepalive: connection org.postgresql.jdbc.PgConnection@471a9e8c is alive
2026-01-28 08:50:15.000 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:50:15.000 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:50:15.000 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:50:32.780 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - keepalive: connection org.postgresql.jdbc.PgConnection@26e61e44 is alive
2026-01-28 08:50:45.001 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:50:45.001 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:50:45.001 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:51:15.002 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:51:15.002 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:51:15.002 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:51:45.003 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:51:45.003 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:51:45.003 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:51:57.868 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - keepalive: connection org.postgresql.jdbc.PgConnection@471a9e8c is alive
2026-01-28 08:52:15.004 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:52:15.004 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:52:15.004 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:52:22.051 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - keepalive: connection org.postgresql.jdbc.PgConnection@26e61e44 is alive
2026-01-28 08:52:45.005 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:52:45.005 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:52:45.005 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:53:15.009 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:53:15.010 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:53:15.010 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:53:42.468 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - keepalive: connection org.postgresql.jdbc.PgConnection@471a9e8c is alive
2026-01-28 08:53:45.012 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:53:45.013 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:53:45.014 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:54:11.322 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - keepalive: connection org.postgresql.jdbc.PgConnection@26e61e44 is alive
2026-01-28 08:54:15.015 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:54:15.015 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:54:15.015 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:54:45.016 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:54:45.016 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:54:45.016 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:55:15.016 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:55:15.016 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:55:15.016 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:55:27.068 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - keepalive: connection org.postgresql.jdbc.PgConnection@471a9e8c is alive
2026-01-28 08:55:45.017 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:55:45.017 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:55:45.017 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:56:00.594 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - keepalive: connection org.postgresql.jdbc.PgConnection@26e61e44 is alive
2026-01-28 08:56:15.019 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:56:15.019 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:56:15.019 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:56:45.019 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:56:45.019 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:56:45.019 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:57:11.667 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - keepalive: connection org.postgresql.jdbc.PgConnection@471a9e8c is alive
2026-01-28 08:57:15.020 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:57:15.020 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:57:15.020 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:57:45.021 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:57:45.021 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:57:45.021 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:57:49.866 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - keepalive: connection org.postgresql.jdbc.PgConnection@26e61e44 is alive
2026-01-28 08:58:15.021 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:58:15.021 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:58:15.021 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:58:45.021 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:58:45.021 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:58:45.021 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:58:56.267 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - keepalive: connection org.postgresql.jdbc.PgConnection@471a9e8c is alive
2026-01-28 08:59:15.022 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:59:15.022 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:59:15.022 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 08:59:39.137 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - keepalive: connection org.postgresql.jdbc.PgConnection@26e61e44 is alive
2026-01-28 08:59:45.022 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:59:45.022 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 08:59:45.022 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 09:00:15.023 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 09:00:15.023 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 09:00:15.023 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 09:00:40.865 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - keepalive: connection org.postgresql.jdbc.PgConnection@471a9e8c is alive
2026-01-28 09:00:45.024 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 09:00:45.024 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 09:00:45.024 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 09:01:15.024 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 09:01:15.024 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 09:01:15.024 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 09:01:28.409 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - keepalive: connection org.postgresql.jdbc.PgConnection@26e61e44 is alive
2026-01-28 09:01:45.025 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 09:01:45.025 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 09:01:45.025 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 09:02:15.026 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 09:02:15.026 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 09:02:15.026 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 09:02:25.465 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - keepalive: connection org.postgresql.jdbc.PgConnection@471a9e8c is alive
2026-01-28 09:02:45.027 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 09:02:45.027 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 09:02:45.027 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 09:03:15.028 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 09:03:15.028 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 09:03:15.028 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 09:03:17.680 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - keepalive: connection org.postgresql.jdbc.PgConnection@26e61e44 is alive
2026-01-28 09:03:45.030 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 09:03:45.030 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 09:03:45.030 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 09:04:10.064 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - keepalive: connection org.postgresql.jdbc.PgConnection@471a9e8c is alive
2026-01-28 09:04:15.031 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 09:04:15.031 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 09:04:15.031 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 09:04:45.032 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 09:04:45.032 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 09:04:45.032 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 09:05:06.952 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - keepalive: connection org.postgresql.jdbc.PgConnection@26e61e44 is alive
2026-01-28 09:05:15.033 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 09:05:15.033 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 09:05:15.033 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 09:05:45.034 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 09:05:45.034 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 09:05:45.034 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 09:05:54.663 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - keepalive: connection org.postgresql.jdbc.PgConnection@471a9e8c is alive
2026-01-28 09:06:15.042 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 09:06:15.042 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 09:06:15.042 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 09:06:45.043 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 09:06:45.043 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 09:06:45.043 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 09:06:56.224 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - keepalive: connection org.postgresql.jdbc.PgConnection@26e61e44 is alive
2026-01-28 09:07:15.044 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Before cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 09:07:15.044 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - After  cleanup stats (total=2/5, idle=2/2, active=0, waiting=0)
2026-01-28 09:07:15.044 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - Fill pool skipped, pool has sufficient level or currently being filled.
2026-01-28 09:07:39.262 [ShopJoyHikariCP:housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - ShopJoyHikariCP - keepalive: connection org.postgresql.jdbc.PgConnection@471a9e8c is alive
